function init(){window.config={nodeUrl:"//charon-node.herokuapp.com/",userLang:navigator.language||navigator.userLanguage,key:getURLParameter("search"),dataMin:screen.width>=1500?2:1,bookmark:{"zh-CN":"收藏我,不然下次找不到哦",default:"Bookmark me,if u have next time"},feedback:{"zh-CN":'<a href="#donate" onclick="showAlipay()"><span><img src="img/hb.jpg"/>领了后赏给超龙吧</span></a>',default:'<a href="#donate" onclick="showPayPal()"><span>Feedback?<br/> PayPal leave a message.</span></a>'},hiddenHistory:{"zh-CN":"看过的被隐藏数量是",default:"History be hidden,count is"},fetchers:["panc","panduoduo","magnet","tieba"],balance:{"zh-CN":"余额:",default:"balance"},balanceCredit:{"zh-CN":"个",default:""},accountTitle:{"zh-CN":"你的帐号:",default:"Your account:"}},window.showVideos=[]}function locationParameterChanged(){init();var e=config.key,t=document.getElementsByTagName("input")[0];if(t.oninput=function(e){t.value?setDoubanSearch(t.value,function(){},"searchTop"):setDoubanTop(void 0,!0,function(){})},inIframe()?(document.querySelector(".search-form").style.display="none",mobilecheck()||document.querySelector("#data").classList.add("iniframe")):t.onfocus=function(){setHeight(t,"50%")},"zh-CN"==config.userLang&&document.body.classList.add("zh-CN"),document.getElementsByTagName("form")[0].onsubmit=function(){setHeight(t,"15%")},isDirect(),!e){t.focus(),t.setAttribute("required","required");var n=JSON.parse(localStorage.getItem("doubanSearchs"))||[];return n&&setDoubanSearchList(n,"searchTop",!0),n.length<10?setDoubanTop(void 0,!0,function(){loadShare()}):loadShare(),void(n=null)}t.value=e,document.getElementsByTagName("title")[0].innerText=e+" in pan.baidu.com sharing";try{var o=syncIsIt().getBykey(e);o.setLocalIframe(o.data)}catch(e){console.log(e)}var r=JSON.parse(sessionStorage.getItem(config.key)||"{}");hideShowedCache(r.showVideos),loadFetchers(r.fetchers,config.key),r=null,setDoubanSearch(t.value,function(){loadShare(t.value)},"searchBottom"),loadGoogleEntitie(),inIframe()||isShowBookmark()&&addBookmark()}function hideShowedCache(e){e&&(document.getElementById("history").innerHTML=config.hiddenHistory.lang()+' <a class="history-number" href="javascript:" onclick="showHideVideos()" title="Show">'+e.length+"</a>"),e=null}function showHideVideos(){sessionStorage.removeItem(config.key),location.reload()}function loadFetchers(fetchers,key){(fetchers||config.fetchers).map(function(fetcher,index){fetcher=fetcher||config.fetchers[index],"object"==typeof fetcher&&fetcher.host?window[fetcher.host]=eval(fetcher.host+"Fetcher")(key,fetcher):"string"==typeof fetcher&&("tieba"==fetcher&&"zh-CN"!=config.userLang||(window[fetcher]=eval(fetcher+"Fetcher")(key)))}),fetchers=null}function setHeight(e,t,n){try{e.animate?(e.style.transition="initial",e.animate([{height:t}],{duration:200,iterations:1}),setTimeout(o,200)):o()}catch(e){o()}function o(){e.style.height=t}}function setFontSize(e,t,n){if(!n)n=function(e,t){return e-t<0?t:e}((o=window.innerWidth,r=window.innerHeight,(o-r<0?o:r)/t),16)+"px";var o,r;e.style.fontSize=n}function changeHash(e){return location.hash.substr(1)==e.search.value?Location.reload():location.hash="#"+e.search.value,!1}function setMoreFetcher(e){e.style.display="none";var t=config.key;window.panduoduo=panduoduoFetcher(t),window.tieba=tiebaFetcher(t)}function setMessageForm(e){var t=new String("有 {0} 吗？\r找到后发给我邮箱或手机\r："),n=document.getElementById("messageForm");n&&(n.message.value=t.format(e),n.onsubmit=function(e){e.preventDefault();var t=n.querySelector('[type="submit"]'),o=document.getElementById("tab-message");t.classList.add("loading");var r=config.nodeUrl+"cross",a=n.method,i={crossUrl:n.action,crossMethod:a,message:n.message.value};return ajax(r,function(e){console.log(e+n.action),o.click(),t.classList=[],o.classList=[],o.classList.add("success")},function(){t.classList=[],o.classList=[],o.classList.add("error")},a,JSON.stringify(i)),!1})}function loading(e,t){document.getElementById(t||"pancLoading").style.display=e?"block":"none"}function ShowMore(){var e=window.showVideos.length,t=[panc,tieba,magnet,panduoduo];e<1&&(e=1),setMoreIframe(t,0,e)}function setMoreIframe(e,t,n){t||(t=0);n=n||1;if(e[t]){var o=e[t].videos,r=n-o.length;0==o.length?setMoreIframe(e,t+1,r):r>0?(e[t].setIframe(o,o.length,window.showVideos,!0),setMoreIframe(e,t+1,r)):e[t].setIframe(o,n,window.showVideos,!0)}else confirm("noneTemplate",!0)}function fetcher(e){var t={};return t.dataMin=config.dataMin||1,t.host=e.host,t.videos=[],t.fetchUrl=e.fetchUrl,t.parseVideos=e.parseVideos,t.setIframe=function(n,o,r,a){e.setIframe?e.setIframe(n,o,r,a,t):(n=n.splice(0,o)).map(function(e,o){var i=function(){setIframe(e,0==o),r.push(e)};a?i():t.checkInvalid(e,function(){o>=n.length-1&&t.setIframe(t.videos,1,r)},i)});t.progress.setNum(t.videos.length)},t.checkInvalid=function(t,n,o){e.checkInvalid?ajax(config.nodeUrl+"cross?api="+t.url,function(e){e.indexOf("百度网盘-链接不存在")<0?o():n(),e=null},n):o()},t.onLoaded=function(){e.onLoaded?e.onLoaded(t):t.setIframe(t.videos,t.dataMin,window.showVideos)},t.fetch=e.fetch,t.load=function(e){t.progress=innerProgress(t.host,t.fetchUrl);var n=function(e){var n=t.progress,o="object"==typeof e?e:t.parseVideos(e);o&&0!==o.length?(n.success(o.length),t.videos=o,t.onLoaded(),e=null):n.none()};return e?setTimeout(n(e.videos),100):t.fetch(t.host,t.fetchUrl,n),t},window[t.host]=t,t.load(e.cache)}function panduoduoFetcher(e,t){var n={};return n.cache=t,n.host="panduoduo",n.fetchUrl="http://www.panduoduo.net/s/comb/n-"+e+"&ty-bd&f-f4",n.fetch=fetch,n.parseVideos=function(e){return function(e,t){var o=[],r=document.createElement("html");r.innerHTML=e;for(var a=r.querySelectorAll(t),i=0;i<a.length&&!(o.length>10);i++){var s=a[i].querySelector('[title="百度云盘资源"]'),c=a[i].querySelector('[href^="/c/"]');if(s&&"视频"==c.innerHTML){var l=a[i].querySelector("a[href^='/r/']"),u={ref:n.host,name:l.innerHTML,url:"http://www.panduoduo.net"+l.pathname};o.push(u)}}return e=r=els=null,o}(e,".search-page .row")},n.onLoaded=function(e){},n.setIframe=function(e,t,o){var r=e.splice(0,t);r.forEach(function(e,t,a){var i,s,c;o.push(e),s=0===t,c=setIframe(i=e,!1,!0),fetch("panduoduo",i.url,function(e){var t=function(e,t){var n=e.indexOf('"dbutton2" href="')+'"dbutton2" href="'.length;return e.substring(n,e.indexOf('"',n))}(e);t||n.setIframe(r,1,window.showVideos),window.showVideos&&isExist(t,window.showVideos)||(i.url=t,setIframeUrl(t=config.nodeUrl+"cross?api="+t,c,s))})})},fetcher(n)}function pancFetcher(e,t){var n={};return n.cache=t,n.host="panc",n.fetchUrl="https://www.panc.cc/s/"+e+"/td",n.fetch=nodeFetch,n.onLoaded=function(e){e.setIframe(e.videos,e.dataMin,window.showVideos),clearInvalid(e,function(t){e.setIframe([t],1,window.showVideos),e.progress.setNum(e.videos.length)})},n.setIframe=function(e,t,n,o,r){(e=e.splice(0,t)).map(function(t,o){checkExistUk(t,n)?(e.splice(e.indexOf(t),1),r.progress.setNum(r.videos.length)):(setIframe(t,0==o),n.push(t))}),e=null},n.parseVideos=function(e){return function(e,t){var n=[],o=document.createElement("html");o.innerHTML=e;for(var r=o.querySelectorAll(t),a=0;a<r.length;a++)n.push({name:r[a].previousElementSibling.innerHTML,url:r[a].href});return n}(e,".a_url")},fetcher(n)}function fetch(e,t,n){var o=encodeURI(config.nodeUrl+"fetch?api="+t);try{var r=function(){progress(e).error()};ajax(o,n,r)}catch(e){r()}}function nodeFetch(e,t,n){var o=encodeURI(config.nodeUrl+"fetch?npm=node-fetch&api="+t);try{var r=function(){progress(e).error()};ajax(o,n,r)}catch(e){r()}}function cross(e,t,n){var o=encodeURI(config.nodeUrl+"cross?api="+t);try{var r=function(){progress(e).error()};ajax(o,n,r)}catch(e){r()}}function setIframe(e,t,n,o,r){e.ref&&"magnet"==e.ref&&(o="magnetTemplate"),o=o||"videoTemplate";var a=document.getElementById(o).innerHTML,i=document.getElementById(r||"data"),s=document.createElement("div");s.classList.add("video-item"),s.innerHTML=a;var c=s.children[0],l=e.url;if(e.key&&!config.key?(c.href="?search="+e.key,c.innerHTML=e.key,c.target=""):(c.innerHTML=e.name,c.href=e.refUrl||l),"videoTemplate"==o){var u=l.indexOf("//");l=l.substr(u>=0?u:0)}var d=s.querySelector("[name='isIt']");d.value=JSON.stringify(e),(isItTrue(d)||e.key)&&(d.checked=!0);var f=e.key||config.key;d.title="Is this "+f+"?",d.dataset.key=f,i.querySelector("iframe[data-src='"+l+"']")||i.querySelector("a[href='"+l+"']")||i.appendChild(s),n||setIframeUrl(l,s,t,o);var h=JSON.parse(sessionStorage.getItem(config.key)||"{}");return h.fetchers=objectsByStrings(config.fetchers),h.showVideos=(h.showVideos||[]).concat(showVideos),sessionStorage.setItem(config.key,JSON.stringify(h)),h=i=iframe=null,s}function objectsByStrings(e){var t=[];return e.map(function(e){t.push(window[e])}),t}function setIframeUrl(e,t,n,o){if(e){if("videoTemplate"==(o=o||"videoTemplate")){var r=t.querySelector("iframe");isDisableScript(e)&&(r.sandbox="allow-same-origin allow-popups allow-forms allow-pointer-lock"),r.dataset.src=e,n&&(r.src=e),addVideosHandler(r)}else if("magnetTemplate"==o){t.querySelector("code").innerHTML=e}}else t.removeChild(r)}function isExist(e,t,n){for(var o=0;o<t.length;o++){n=n||"url";if(t[o][n]==e)return{i:o}}return!1}function isDisableScript(e){return e.indexOf("pan.baidu.com/pcloud/album/file")>0}function load(e,t){var n=new XMLHttpRequest;if(n.open("PUT",e,!1),n.send(null),200===n.status)return n.responseText}function getURLParameter(e,t){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(t||location.search)||[null,""])[1].replace(/\+/g,"%20"))||null}function isElementInViewport(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function onVisibilityChange(e,t){var n;return function(){var o=isElementInViewport(e);o!=n&&(n=o,"function"==typeof t&&t())}}function addVideosHandler(e){var t=onVisibilityChange(e,function(){e.src||(e.src=e.dataset.src)});window.addEventListener?(addEventListener("DOMContentLoaded",t,!1),addEventListener("load",t,!1),addEventListener("scroll",t,!1),addEventListener("resize",t,!1)):window.attachEvent&&(attachEvent("onDOMContentLoaded",t),attachEvent("onload",t),attachEvent("onscroll",t),attachEvent("onresize",t))}function ajax(e,t,n,o,r,a){var i=new XMLHttpRequest;i.open(o||"GET",e),i.setRequestHeader("Content-Type",a||"text/plain;charset=UTF-8");try{i.send(r||null)}catch(e){n()}return i.onload=function(e){200==this.status?t(this.response,n):n()},i.onerror=n,i}function isEnglish(e){return!/[^\x00-\x7F]+/.test(e)}function thepiratebayFetcher(e,t){return magnetFetcher(e,t)}function diaosisouFetcher(e,t){return magnetFetcher(e,t)}function magnetFetcher(e,t){var n={};return n.cache=t,isEnglish(e)?(n.host="thepiratebay",n.fetchUrl="https://thepiratebay.org/search/"+e+"/0/99/0",n.parseVideos=function(e){return function(e){var t=[],n=document.createElement("html");n.innerHTML=e;for(var o=n.querySelectorAll("#searchResult tbody tr"),r=0;r<o.length;r++){var a=o[r].querySelector(".detLink").innerHTML,i=o[r].querySelector("a[href^='magnet:']").href,s={ref:"magnet",name:a,url:i};t.push(s)}return e=n=o=null,t}(e)},n.fetch=cross,n.onLoaded=function(e){e.setIframe(e.videos,2*e.dataMin,window.showVideos)}):(n.host="diaosisou",n.fetchUrl="http://www.diaosisou.org/list/"+e+"/1",n.parseVideos=function(e){return function(e){var t=[],n=[],o=document.createElement("html");o.innerHTML=e;var r=o.querySelectorAll(".mlist>li");o=null;for(var a=0;a<r.length;a++){var i=r[a].querySelector("a[name='file_title'").innerHTML,s=r[a].querySelector("a[href^='magnet:']").href,c={ref:"magnet",name:i,url:s};c.name.length>=70?n.push(c):t.push(c)}return t.concat(n),e=o=r=null,t}(e)},n.fetch=nodeFetch,n.onLoaded=function(e){e.videos[0].name.length<70&&e.setIframe(e.videos,1,window.showVideos)}),window[n.host]=fetcher(n),window[n.host]}function loadError(e){console.log("The script "+e.target.src+" is not accessible.")}function importScript(e,t){var n=document.createElement("script");return n.type="text/javascript",n.onerror=loadError,t&&(n.onload=t),document.currentScript?document.currentScript.parentNode.insertBefore(n,document.currentScript):document.body.appendChild(n),n.src=e,n.abort=function(){return trigger(n,"error")},n}function trigger(e,t){if(e.dispatchEvent){var n=document.createEvent("Events");n.initEvent(t,!0,!0),e.dispatchEvent(n)}else e.fireEvent?e.fireEvent("on"+t):e["on"+t]()}function progress(e){var t=document.getElementById(e+"Progress");if(t.interval)return t;function n(){t.value>=2e4?(clearInterval(t.interval),t.error()):t.value=t.value+10}return t.init=function(){t.parentNode.parentNode.classList=[],t.value=0,t.interval=setInterval(n,10)},t.success=function(e){t.parentNode.parentNode.classList=[],t.parentNode.parentNode.classList.add("success"),clearInterval(t.interval),e&&(t.nextSibling.innerHTML="<em>"+e+"</em>")},t.setNum=function(e){e>0?t.success(e):t.none()},t.none=function(){t.parentNode.parentNode.classList=[],t.parentNode.parentNode.classList.add("none"),clearInterval(t.interval),t.nextSibling.innerHTML="<em>0</em>"},t.error=function(){t.parentNode.parentNode.classList=[],t.parentNode.parentNode.classList.add("error"),clearInterval(t.interval)},t.parentNode.onclick=function(){var t=window[e];if(t&&t.videos.length){var n=t.videos.length,o=showVideos.length;n=n>o?o:n,"panduoduo"==e&&(n=1),setMoreIframe([t],0,n)}},t.nextSibling.nextSibling.onclick=function(){var t=window[e];t&&t.load()},t}function innerProgress(e,t){var n=document.getElementById("progressGroup");(n.classList.add("show"),document.getElementById(e+"Progress"))||beforeHTML(n,'<li><a target="_blank" href="'+t+'" title="'+e+'"><i class="'+e+'"></i></a><span class="more" href="javascript:return void()"><progress max="20000" id="'+e+'Progress"></progress><span class="num"></span><span class="reloadSingle" title="Reload"></span></span>',n.querySelector("li.more"));var o=progress(e);return o.init(),o}function appendHTML(e,t){var n=document.createElement("div");n.innerHTML=t,e.appendChild(n.children[0])}function beforeHTML(e,t,n){var o=document.createElement("div");o.innerHTML=t,e.insertBefore(o.children[0],n)}function checkInvalid(e,t,n){ajax(config.nodeUrl+"cross?api="+e,function(e){e.indexOf("百度网盘-链接不存在")<0?n():t(),e=null},t)}function clearInvalid(e,t){try{var n=e.videos;n.map(function(o){o.url.indexOf("pan.baidu.com/s/")>=0||checkInvalid(o.url,function(){n.splice(n.indexOf(o),1),e.progress.setNum(n.length)},function(){t&&(t(o),t=!1)})})}catch(e){}}function setDoubanList(e){var t="https://api.douban.com/v2/movie/search?q="+e;ajax(config.nodeUrl+"cross?api="+t,function(e){for(var t="",n=JSON.parse(e).subjects,o=0;o<3&&o<n.length;o++)t+=searchToHtml(n[o].original_title,n[o].images.medium),o<1&&n[o].original_title!=n[o].title&&(t+=searchToHtml(n[o].title,n[o].images.medium));var r=document.getElementById("doubanList");r.innerHTML=t,r.style.display="block",e=t=n=r=null})}function setDoubanSearch(e,t,n){if(e=e||config.key)if(window.doubanListId=n,window.doubanRequest&&window.doubanRequest.abort(),"searchBottom"!=n){var o="https://api.douban.com/v2/movie/search?callback=setDoubanSearchCallback&q="+e;window.doubanRequest=importScript(o,t)}else{o="https://api.douban.com/v2/movie/search?q="+e;var r=config.nodeUrl+"cross?api="+o;window.doubanRequest=ajax(r,function(e){setDoubanSearchCallback(JSON.parse(e)),t()})}}function setDoubanSearchCallback(e){var t=e.subjects;if(t&&t[0]){setDoubanSearchList(t,window.doubanListId);var n=JSON.parse(localStorage.getItem("doubanSearchs"))||[],o=isExist(t[0].title,n,"title");o?n.move(o.i,0):(n.unshift(t[0]),n.length=n.length>20?20:n.length),n=JSON.stringify(n),localStorage.setItem("doubanSearchs",n),t=n=e=null}}function setDoubanSearchList(e,t,n){for(var o=document.getElementById(t)||document.querySelector(".doubanList"),r="",a=0;n?a<20&&a<e.length:a<5&&a<e.length;a++){var i="zh-CN"==config.userLang?e[a].title:e[a].original_title,s="zh-CN"==config.userLang?e[a].original_title:e[a].title;r+=searchToHtml(i,e[a].images.medium),a<1&&i!=s&&!n&&(r+=searchToHtml(s,e[a].images.medium))}o.classList.add("doubanList"),o.innerHTML=r,r=null}function searchToHtml(e,t){var n="";config.key!=e&&(n='href="?search='+encodeURIComponent(e)+'"');var o="";return t&&(o='<img src="'+t+'"/>'),"<a "+n+" >"+o+"<span>"+e+"<span></a>"}function setDoubanTop(e,t,n){window.doubanRequest&&window.doubanRequest.abort();var o="https://api.douban.com/v2/movie/top250?apikey=0df993c66c0c636e29ecbb5344252a4a&start="+parseInt(230*Math.random())+"&&callback=setDoubanTopCallback";window.doubanRequest=importScript(o,n)}function setDoubanTopCallback(e){for(var t="",n=e.subjects,o=(config.key,0);o<n.length;o++){n[o];t+=searchToHtml("zh-CN"==config.userLang?n[o].title:n[o].original_title,n[o].images.medium)}t+='<a target="_blank" href="https://movie.douban.com/annual/2017" class="movieannual2017"></a>';var r=document.getElementById("searchTop")||document.querySelector(".doubanList");r.innerHTML+=t,r.classList.add("doubanList"),e=t=n=r=null}function setMagnetTech(e){e?e&&0!=e.checked&&(setOtherClose(e),e.nextElementSibling.nextElementSibling.innerHTML=document.getElementById("magnetTechTemplate").innerHTML):(e=document.getElementById("tab-Magnet")).parentNode.style.display="inline-block"}function reloadIframe(e){e.previousElementSibling.src=e.previousElementSibling.src}function tiebaFetcher(e,t){var n={};return n.cache=t,n.host="tieba",n.fetchUrl="http://tieba.baidu.com/f/search/res?ie=utf-8&qw="+e+" pan.baidu",n.fetch=cross,n.parseVideos=function(e){return function(e,t){var n=[],o=document.createElement("html");o.innerHTML=e;for(var r=o.querySelectorAll(t),a=0;a<r.length;a++){var i=r[a].querySelector(".p_title").innerHTML,s=i.indexOf('href="')+6,c=i.indexOf('"',s),l=i.substring(s,c),e=i+r[a].querySelector(".p_content").innerHTML,u=g(e),d=r[a].querySelector(".p_title").innerText+" "+r[a].querySelector(".p_content").innerText,f=d.lastIndexOf(u),h=(d.slice(f),p(d,f));u&&m(h)&&n.push({name:d,url:h,refUrl:"http://tieba.baidu.com"+l})}return n;function m(e){return!!e&&!(e.indexOf("pan.baidu.com/mbox")>0)}function p(e,t){var n=t||0,o=e.indexOf("http",n);if(o>=0){var r=e.slice(o),a=r.match(/[^\x00-\x7F]|\s|\.\.\.|,/);return r=r.slice(0,a.index)}return t?p(e):""}function g(e){var t=document.createElement("div");t.innerHTML=e;for(var n=t.querySelectorAll("em"),o=n.length-1;o>=0;o--)if("pan.baidu"!=n[o].innerText)return n[o].innerText;return""}}(e,".s_post")},fetcher(n)}function checkExistUk(e,t){try{for(var n=getURLParameter("uk",e.url),o=0;o<t.length;o++){var r=getURLParameter("uk",t[o].url);if(n&&n==r)return!0}}catch(e){return!0}return!1}function syncIsIt(e,t){var n={};function o(e,t){var n=JSON.parse(localStorage.getItem(e)||"{}");(t=JSON.parse(t)).map(function(t){t.key==e&&(n[t.url]=t.count)}),localStorage.setItem(e,JSON.stringify(n)),t=null}return n.key=e||config.key,n.data=t||JSON.parse(localStorage.getItem(n.key)||"{}"),n.uri="https://postgrest-taifu.herokuapp.com/testisit3",n.getBykey=function(e){e=e||n.key;return ajax(n.uri+"?order=install_date.desc&key=eq."+e,function(t){console.log(t),n.setIframe(t),o(e,t)},null,"get",null),n},n.setIframe=function(e,t,n){(e="string"==typeof e?JSON.parse(e):e).map(function(e){var n=JSON.parse(e.video);n&&(n.key=e.key,setIframe(n,!0,null,null,t))})},n.setLocalIframe=function(e){for(var t in e){var n=e[t];n.key=t,setIframe(n,!0,null,null)}},n.getAll=function(){ajax(n.uri+"?order=install_date.desc&limit=5",function(t){console.log(t),n.setIframe(t,"dataIsIt",!0),o(e,t)},null,"get",null)},n.add=function(e,t){var o=new XMLHttpRequest;o.open("POST",n.uri),o.setRequestHeader("Content-Type","application/json"),o.send(JSON.stringify({url:t.url,key:e,video:JSON.stringify(t)}))},n.delete=function(e,t){ajax(n.uri+"?key=eq."+e+"&url=eq."+t.url,function(e){console.log(e)},null,"delete",null,"application/json")},n}function isItClick(e){storageItTrue(e.dataset.key||config.key,e,!e.checked),e.classList.add("checked"),document.querySelector(".share-other").setAttribute("checked",e.checked)}function storageItTrue(e,t,n){var o=JSON.parse(t.value),r=JSON.parse(localStorage.getItem(e)||"{}");r[o.url]=!n&&o,localStorage.setItem(e,JSON.stringify(r));var a=syncIsIt(e,r);n?a.delete(e,o):(a.add(e,o),moveItemToTop(t))}function moveItemToTop(e){var t=closest(e,".video-item"),n=t.parentNode;n.insertBefore(t,n.childNodes[0]),document.querySelector('a[href="#data"]').click()}function isItTrue(e){var t=config.key,n=JSON.parse(e.value);return!!JSON.parse(localStorage.getItem(t)||"{}")[n.url]}function closest(e,t,n){for(var o=null;e;){if(e.matches(t)){o=e;break}if(n&&e.matches(n))break;e=e.parentElement}return o}function importCSS(e,t){t=t||"myCss";if(!document.getElementById(t)){var n=document.getElementsByTagName("head")[0],o=document.createElement("link");o.id=t,o.rel="stylesheet",o.type="text/css",o.href=e,o.media="all",n.appendChild(o)}}function loadShare(e){window.money=Money(),addCoinhive(),addDonate(),importCSS("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css","awesome"),addShare(e),inIframe()||(document.querySelector(".nav-index").style.display="block")}function addShare(key){if(!window.importShare)with(document.querySelector(".share-other").innerHTML=document.getElementById("shareTemplate").innerHTML,window.importShare=importScript("https://wuchaolong.github.io/sante/social-share.js/src/js/qrcode.js",function(){importScript("https://wuchaolong.github.io/sante/social-share.js/src/js/social-share.js",function(){key?(document.querySelector(".share-other").dataset.footnote=key,socialShare(".share-other",{title:key})):socialShare(".share-other")})}),importCSS("https://overtrue.github.io/share.js/dist/css/share.min.css"),window._bd_share_config={common:{bdSnsKey:{},bdText:key||"",bdMini:"2",bdMiniList:!1,bdPic:(document.images[0]||0).src||"",bdStyle:"1",bdSize:"32"},share:{}},document)(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="https://wuchaolong.github.io/baiduShare/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date/36e5)}function addDonate(){var e=document.getElementById("donateTemplate"),t=document.getElementById("donate"),n=config.feedback.lang();t.innerHTML=n+e.innerHTML,e=t=null}function showAlipay(){var e=document.querySelector("#donate iframe");(e.contentDocument||e.contentWindow.document).getElementById("AliPay").click()}function showPayPal(){var e=document.querySelector("#donate iframe");(e.contentDocument||e.contentWindow.document).querySelector("#PayPal a").click()}function addBookmark(){var e=document.createElement("span");e.classList.add("bookmark"),e.title="Bookmark me",e.onclick=function t(n){try{var o="https://wuchaolong.github.io/video/",r="Video",a=config.bookmark.lang();/Mac/i.test(navigator.userAgent)?alert("Cmd+D "+a):alert("Ctrl+D "+a),"addToHomescreen"in window&&addToHomescreen.isCompatible?addToHomescreen({autostart:!1,startDelay:0}).show(!0):window.sidebar&&window.sidebar.addPanel?window.sidebar.addPanel(r,o,""):window.sidebar&&/Firefox/i.test(navigator.userAgent)||window.opera&&window.print?(e.href=o,e.title=r,e.rel="sidebar",e.removeEventListener("click",t)):window.external&&"AddFavorite"in window.external&&window.external.AddFavorite(o,r)}catch(n){return console.log(n),!1}hideBookmark(e);return!1},document.getElementById("top").appendChild(e),e.click()}function hideBookmark(e){document.getElementById("top").removeChild(e),localStorage.setItem("bookmarked",!0)}function isShowBookmark(){var e=localStorage.getItem("bookmarked"),t=localStorage.getItem("doubanSearchs"),n=localStorage.getItem("isDirect");return!(e||!t||n)}function isDirect(){return document.createElement("a").href=document.referrer,document.createElement("a").href=location.href,!document.referrer&&(localStorage.setItem("isDirect",!0),!0)}function addCoinhive(){screen.width>=751&&!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&importScript("https://coin-hive.com/lib/coinhive.min.js",function(){miner=new CoinHive.Anonymous("Wtx9zrRVSwMjJmFssPEtuCxnzkdo3QaP"),miner.isMobile()||miner.didOptOut(14400)||(localStorage.getItem("removeCoinHive")?stopCoinHive():startCoinHive())})}function startCoinHive(){localStorage.removeItem("removeCoinHive"),clearInterval(miner.interval),miner.start(CoinHive.IF_EXCLUSIVE_TAB),miner.interval=setInterval(function(){miner.getHashesPerSecond();var e=miner.getTotalHashes(),t=(miner.getAcceptedHashes(),'<a href="https://coinhive.com" target="_blank"><i class="navigation-icon"></i>'+e+'</a><button title="stop" onclick="stopCoinHive()">✗</button>');document.querySelector(".coinhive-miner").innerHTML=t,money.setHash(e)},1e3)}function stopCoinHive(){localStorage.setItem("removeCoinHive",!0),clearInterval(miner.interval),miner.stop(),miner.interval=setInterval(function(){miner.getHashesPerSecond();var e=miner.getTotalHashes(),t=(miner.getAcceptedHashes(),'<a href="https://coinhive.com" target="_blank"><i class="navigation-icon"></i>'+e+'</a><button title="start" onclick="startCoinHive()">▶</button>');document.querySelector(".coinhive-miner").innerHTML=t},1e3)}function loadGoogleEntitie(){importScript("https://kgsearch.googleapis.com/v1/entities:search?query="+config.key+"&key=AIzaSyDTtLX1_UqEksS2zp3SAF1vMaGi3OyfJok&limit=5&indent=True&types=Movie&types=TVSeries&callback=setGoogleEntities&languages="+config.userLang+"&languages=en")}function setGoogleEntities(e){for(var t="",n=e.itemListElement,o=0;o<5&&o<n.length;o++)if("string"==typeof n[o].result.name){t+=searchToHtml(r=n[o].result.name)}else{var r;t+=searchToHtml(r=n[o].result.name[0]["@value"]);var a=n[o].result.name[n[o].result.name.length-1]["@value"];0==o&&r!==a&&(t+=searchToHtml(a))}var i=document.getElementById("googleEntities");i.innerHTML=t,i.style.display="block",i.classList.add("doubanList"),e=t=n=i=null}function inIframe(){try{return window.self!==window.top}catch(e){return!0}}function mobilecheck(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),t}function addAnalytics(){var e,t,n,o,r,a;e=window,t=document,n="script",o="ga",e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,r=t.createElement(n),a=t.getElementsByTagName(n)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",a.parentNode.insertBefore(r,a),ga("create","UA-105323849-1","auto"),ga("send","pageview");!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?8b3f6e2c94f875da6eedafba4337f6c1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),window.NREUM||(NREUM={}),__nr_require=function(e,t,n){function o(n){if(!t[n]){var r=t[n]={exports:{}};e[n][0].call(r.exports,function(t){return o(e[n][1][t]||t)},r,r.exports)}return t[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var r=0;r<n.length;r++)o(n[r]);return o}({1:[function(e,t,n){function o(e){try{s.console&&console.log(e)}catch(e){}}var r,a=e("ee"),i=e(15),s={};try{r=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(s.console=!0,-1!==r.indexOf("dev")&&(s.dev=!0),-1!==r.indexOf("nr_dev")&&(s.nrDev=!0))}catch(e){}s.nrDev&&a.on("internal-error",function(e){o(e.stack)}),s.dev&&a.on("fn-err",function(e,t,n){o(n.stack)}),s.dev&&(o("NR AGENT IN DEVELOPMENT MODE"),o("flags: "+i(s,function(e,t){return e}).join(", ")))},{}],2:[function(e,t,n){function o(e,t){var n=t?null:s.now();r("err",[e,n])}var r=e("handle"),a=e(16),i=e("ee"),s=e("loader"),c=e("gos"),l=window.onerror,u=!1,d="nr@seenError",f=0;s.features.err=!0,e(1),window.onerror=function(e,t,n,i,c){try{f?f-=1:o(c||new function(e,t,n){this.message=e||"Uncaught error with no additional information",this.sourceURL=t,this.line=n}(e,t,n),!0)}catch(e){try{r("ierr",[e,s.now(),!0])}catch(e){}}return"function"==typeof l&&l.apply(this,a(arguments))};try{throw new Error}catch(t){"stack"in t&&(e(8),e(7),"addEventListener"in window&&e(5),s.xhrWrappable&&e(9),u=!0)}i.on("fn-start",function(e,t,n){u&&(f+=1)}),i.on("fn-err",function(e,t,n){u&&!n[d]&&(c(n,d,function(){return!0}),this.thrown=!0,o(n))}),i.on("fn-end",function(){u&&!this.thrown&&f>0&&(f-=1)}),i.on("internal-error",function(e){r("ierr",[e,s.now(),!0])})},{}],3:[function(e,t,n){e("loader").features.ins=!0},{}],4:[function(e,t,n){function o(e){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var r=e("ee"),a=e("handle"),i=e(8),s=e(7),c="learResourceTimings",l="addEventListener",u="resourcetimingbufferfull",d="bstResource",f="resource",h="-start",m="-end",p="fn"+h,g="fn"+m,v="bstTimer",w="pushState",y=e("loader");y.features.stn=!0,e(6);var b=NREUM.o.EV;r.on(p,function(e,t){e[0]instanceof b&&(this.bstStart=y.now())}),r.on(g,function(e,t){var n=e[0];n instanceof b&&a("bst",[n,t,this.bstStart,y.now()])}),i.on(p,function(e,t,n){this.bstStart=y.now(),this.bstType=n}),i.on(g,function(e,t){a(v,[t,this.bstStart,y.now(),this.bstType])}),s.on(p,function(){this.bstStart=y.now()}),s.on(g,function(e,t){a(v,[t,this.bstStart,y.now(),"requestAnimationFrame"])}),r.on(w+h,function(e){this.time=y.now(),this.startPath=location.pathname+location.hash}),r.on(w+m,function(e){a("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),l in window.performance&&(window.performance["c"+c]?window.performance[l](u,function(e){a(d,[window.performance.getEntriesByType(f)]),window.performance["c"+c]()},!1):window.performance[l]("webkit"+u,function(e){a(d,[window.performance.getEntriesByType(f)]),window.performance["webkitC"+c]()},!1)),document[l]("scroll",o,{passive:!0}),document[l]("keypress",o,!1),document[l]("click",o,!1)}},{}],5:[function(e,t,n){function o(e){for(var t=e;t&&!t.hasOwnProperty(u);)t=Object.getPrototypeOf(t);t&&r(t)}function r(e){s.inPlace(e,[u,d],"-",a)}function a(e,t){return e[1]}var i=e("ee").get("events"),s=e(18)(i,!0),c=e("gos"),l=XMLHttpRequest,u="addEventListener",d="removeEventListener";t.exports=i,"getPrototypeOf"in Object?(o(document),o(window),o(l.prototype)):l.prototype.hasOwnProperty(u)&&(r(window),r(l.prototype)),i.on(u+"-start",function(e,t){var n=e[1],o=c(n,"nr@wrapped",function(){var e={object:function(){if("function"==typeof n.handleEvent)return n.handleEvent.apply(n,arguments)},function:n}[typeof n];return e?s(e,"fn-",null,e.name||"anonymous"):n});this.wrapped=e[1]=o}),i.on(d+"-start",function(e){e[1]=this.wrapped||e[1]})},{}],6:[function(e,t,n){var o=e("ee").get("history"),r=e(18)(o);t.exports=o,r.inPlace(window.history,["pushState","replaceState"],"-")},{}],7:[function(e,t,n){var o=e("ee").get("raf"),r=e(18)(o),a="equestAnimationFrame";t.exports=o,r.inPlace(window,["r"+a,"mozR"+a,"webkitR"+a,"msR"+a],"raf-"),o.on("raf-start",function(e){e[0]=r(e[0],"fn-")})},{}],8:[function(e,t,n){var o=e("ee").get("timer"),r=e(18)(o),a="setTimeout",i="setInterval",s="clearTimeout",c="-start";t.exports=o,r.inPlace(window,[a,"setImmediate"],a+"-"),r.inPlace(window,[i],i+"-"),r.inPlace(window,[s,"clearImmediate"],s+"-"),o.on(i+c,function(e,t,n){e[0]=r(e[0],"fn-",null,n)}),o.on(a+c,function(e,t,n){this.method=n,this.timerDuration=isNaN(e[1])?0:+e[1],e[0]=r(e[0],"fn-",this,n)})},{}],9:[function(e,t,n){function o(e,t){l.inPlace(t,["onreadystatechange"],"fn-",i)}function r(){var e=this,t=c.context(e);e.readyState>3&&!t.resolved&&(t.resolved=!0,c.emit("xhr-resolved",[],e)),l.inPlace(e,g,"fn-",i)}function a(){for(var e=0;e<v.length;e++)o(0,v[e]);v.length&&(v=[])}function i(e,t){return t}e(5);var s=e("ee"),c=s.get("xhr"),l=e(18)(c),u=NREUM.o,d=u.XHR,f=u.MO,h=u.PR,m=u.SI,p="readystatechange",g=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],v=[];t.exports=c;var w=window.XMLHttpRequest=function(e){var t=new d(e);try{c.emit("new-xhr",[t],t),t.addEventListener(p,r,!1)}catch(e){try{c.emit("internal-error",[e])}catch(e){}}return t};if(function(e,t){for(var n in e)t[n]=e[n]}(d,w),w.prototype=d.prototype,l.inPlace(w.prototype,["open","send"],"-xhr-",i),c.on("send-xhr-start",function(e,t){o(0,t),function(e){v.push(e),f&&(y?y.then(a):m?m(a):(b=-b,S.data=b))}(t)}),c.on("open-xhr-start",o),f){var y=h&&h.resolve();if(!m&&!h){var b=1,S=document.createTextNode(b);new f(a).observe(S,{characterData:!0})}}else s.on("fn-end",function(e){e[0]&&e[0].type===p||a()})},{}],10:[function(e,t,n){function o(e){var t=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var o=0;o<l;o++)e.removeEventListener(c[o],this.listener,!1);if(!t.aborted){if(n.duration=r.now()-this.startTime,4===e.readyState){t.status=e.status;var i=function(e,t){var n=e.responseType;if("json"===n&&null!==t)return t;var o="arraybuffer"===n||"blob"===n||"json"===n?e.response:e.responseText;return f(o)}(e,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var u=e.getResponseHeader("X-NewRelic-App-Data");u&&(t.cat=u.split(", ").pop())}}else t.status=0;n.cbTime=this.cbTime,s.emit("xhr-done",[e],e),a("xhr",[t,n,this.startTime])}}}var r=e("loader");if(r.xhrWrappable){var a=e("handle"),i=e(11),s=e("ee"),c=["load","error","abort","timeout"],l=c.length,u=e("id"),d=e(14),f=e(13),h=window.XMLHttpRequest;r.features.xhr=!0,e(9),s.on("new-xhr",function(e){var t=this;t.totalCbs=0,t.called=0,t.cbTime=0,t.end=o,t.ended=!1,t.xhrGuids={},t.lastSize=null,d&&(d>34||d<10)||window.opera||e.addEventListener("progress",function(e){t.lastSize=e.loaded},!1)}),s.on("open-xhr-start",function(e){this.params={method:e[0]},function(e,t){var n=i(t),o=e.params;o.host=n.hostname+":"+n.port,o.pathname=n.pathname,e.sameOrigin=n.sameOrigin}(this,e[1]),this.metrics={}}),s.on("open-xhr-end",function(e,t){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&t.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),s.on("send-xhr-start",function(e,t){var n=this.metrics,o=e[0],a=this;if(n&&o){var i=f(o);i&&(n.txSize=i)}this.startTime=r.now(),this.listener=function(e){try{"abort"===e.type&&(a.params.aborted=!0),("load"!==e.type||a.called===a.totalCbs&&(a.onloadCalled||"function"!=typeof t.onload))&&a.end(t)}catch(e){try{s.emit("internal-error",[e])}catch(e){}}};for(var u=0;u<l;u++)t.addEventListener(c[u],this.listener,!1)}),s.on("xhr-cb-time",function(e,t,n){this.cbTime+=e,t?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),s.on("xhr-load-added",function(e,t){var n=""+u(e)+!!t;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),s.on("xhr-load-removed",function(e,t){var n=""+u(e)+!!t;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),s.on("addEventListener-end",function(e,t){t instanceof h&&"load"===e[0]&&s.emit("xhr-load-added",[e[1],e[2]],t)}),s.on("removeEventListener-end",function(e,t){t instanceof h&&"load"===e[0]&&s.emit("xhr-load-removed",[e[1],e[2]],t)}),s.on("fn-start",function(e,t,n){t instanceof h&&("onload"===n&&(this.onload=!0),("load"===(e[0]&&e[0].type)||this.onload)&&(this.xhrCbStart=r.now()))}),s.on("fn-end",function(e,t){this.xhrCbStart&&s.emit("xhr-cb-time",[r.now()-this.xhrCbStart,this.onload,t],t)})}},{}],11:[function(e,t,n){t.exports=function(e){var t=document.createElement("a"),n=window.location,o={};t.href=e,o.port=t.port;var r=t.href.split("://");!o.port&&r[1]&&(o.port=r[1].split("/")[0].split("@").pop().split(":")[1]),o.port&&"0"!==o.port||(o.port="https"===r[0]?"443":"80"),o.hostname=t.hostname||n.hostname,o.pathname=t.pathname,o.protocol=r[0],"/"!==o.pathname.charAt(0)&&(o.pathname="/"+o.pathname);var a=!t.protocol||":"===t.protocol||t.protocol===n.protocol,i=t.hostname===document.domain&&t.port===n.port;return o.sameOrigin=a&&(!t.hostname||i),o}},{}],12:[function(e,t,n){function o(){}function r(e,t,n){return function(){return a(e,[l.now()].concat(s(arguments)),t?null:this,n),t?void 0:this}}var a=e("handle"),i=e(15),s=e(16),c=e("ee").get("tracer"),l=e("loader"),u=NREUM;void 0===window.newrelic&&(newrelic=u);var d="api-",f=d+"ixn-";i(["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],function(e,t){u[t]=r(d+t,!0,"api")}),u.addPageAction=r(d+"addPageAction",!0),u.setCurrentRouteName=r(d+"routeName",!0),t.exports=newrelic,u.interaction=function(){return(new o).get()};var h=o.prototype={createTracer:function(e,t){var n={},o=this,r="function"==typeof t;return a(f+"tracer",[l.now(),e,n],o),function(){if(c.emit((r?"":"no-")+"fn-start",[l.now(),o,r],n),r)try{return t.apply(this,arguments)}catch(e){throw c.emit("fn-err",[arguments,this,e],n),e}finally{c.emit("fn-end",[l.now()],n)}}}};i("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,t){h[t]=r(f+t)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),a("err",[e,l.now()])}},{}],13:[function(e,t,n){t.exports=function(e){if("string"==typeof e&&e.length)return e.length;if("object"==typeof e){if("undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer&&e.byteLength)return e.byteLength;if("undefined"!=typeof Blob&&e instanceof Blob&&e.size)return e.size;if(!("undefined"!=typeof FormData&&e instanceof FormData))try{return JSON.stringify(e).length}catch(e){return}}}},{}],14:[function(e,t,n){var o=0,r=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);r&&(o=+r[1]),t.exports=o},{}],15:[function(e,t,n){var o=Object.prototype.hasOwnProperty;t.exports=function(e,t){var n=[],r="",a=0;for(r in e)o.call(e,r)&&(n[a]=t(r,e[r]),a+=1);return n}},{}],16:[function(e,t,n){t.exports=function(e,t,n){t||(t=0),void 0===n&&(n=e?e.length:0);for(var o=-1,r=n-t||0,a=Array(r<0?0:r);++o<r;)a[o]=e[t+o];return a}},{}],17:[function(e,t,n){t.exports={exists:void 0!==window.performance&&window.performance.timing&&void 0!==window.performance.timing.navigationStart}},{}],18:[function(e,t,n){function o(e){return!(e&&e instanceof Function&&e.apply&&!e[i])}var r=e("ee"),a=e(16),i="nr@original",s=Object.prototype.hasOwnProperty,c=!1;t.exports=function(e,t){function n(e,t,n,r){function c(){var o,i,s,c;try{i=this,o=a(arguments),s="function"==typeof n?n(o,i):n||{}}catch(e){u([e,"",[o,i,r],s])}l(t+"start",[o,i,r],s);try{return c=e.apply(i,o)}catch(e){throw l(t+"err",[o,i,e],s),e}finally{l(t+"end",[o,i,c],s)}}return o(e)?e:(t||(t=""),c[i]=e,function(e,t){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(e);return n.forEach(function(n){Object.defineProperty(t,n,{get:function(){return e[n]},set:function(t){return e[n]=t,t}})}),t}catch(e){u([e])}for(var o in e)s.call(e,o)&&(t[o]=e[o])}(e,c),c)}function l(n,o,r){if(!c||t){var a=c;c=!0;try{e.emit(n,o,r,t)}catch(e){u([e,n,o,r])}c=a}}function u(t){try{e.emit("internal-error",t)}catch(e){}}return e||(e=r),n.inPlace=function(e,t,r,a){r||(r="");var i,s,c,l="-"===r.charAt(0);for(c=0;c<t.length;c++)o(i=e[s=t[c]])||(e[s]=n(i,l?s+r:r,a,s))},n.flag=i,n}},{}],ee:[function(e,t,n){function o(){}function r(){return new o}function a(){(l.api||l.feature)&&(d.aborted=!0,l=d.backlog={})}var i="nr@context",s=e("gos"),c=e(15),l={},u={},d=t.exports=function e(t){function n(e){return e&&e instanceof o?e:e?s(e,i,r):r()}function f(e,o,r,a){if(!d.aborted||a){t&&t(e,o,r);for(var i=n(r),s=h(e),c=s.length,u=0;u<c;u++)s[u].apply(i,o);var f=l[p[e]];return f&&f.push([g,e,o,i]),i}}function h(e){return m[e]||[]}var m={},p={},g={on:function(e,t){m[e]=h(e).concat(t)},emit:f,get:function(t){return u[t]=u[t]||e(f)},listeners:h,context:n,buffer:function(e,t){c(e,function(e,n){t=t||"feature",p[n]=t,t in l||(l[t]=[])})},abort:a,aborted:!1};return g}();d.backlog=l},{}],gos:[function(e,t,n){var o=Object.prototype.hasOwnProperty;t.exports=function(e,t,n){if(o.call(e,t))return e[t];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!1}),r}catch(e){}return e[t]=r,r}},{}],handle:[function(e,t,n){function o(e,t,n,o){r.buffer([e],o),r.emit(e,t,n)}var r=e("ee").get("handle");t.exports=o,o.ee=r},{}],id:[function(e,t,n){var o=1,r="nr@id",a=e("gos");t.exports=function(e){var t=typeof e;return!e||"object"!==t&&"function"!==t?-1:e===window?0:a(e,r,function(){return o++})}},{}],loader:[function(e,t,n){function o(){if(!b++){var e=y.info=NREUM.info,t=d.getElementsByTagName("script")[0];if(setTimeout(l.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&t))return l.abort();c(v,function(t,n){e[t]||(e[t]=n)}),s("mark",["onload",a()+y.offset],null,"api");var n=d.createElement("script");n.src="https://"+e.agent,t.parentNode.insertBefore(n,t)}}function r(){s("mark",["domContent",a()+y.offset],null,"api")}function a(){return S.exists&&performance.now?Math.round(performance.now()):(i=Math.max((new Date).getTime(),i))-y.offset}var i=(new Date).getTime(),s=e("handle"),c=e(15),l=e("ee"),u=window,d=u.document,f="addEventListener",h="attachEvent",m=u.XMLHttpRequest,p=m&&m.prototype;NREUM.o={ST:setTimeout,SI:u.setImmediate,CT:clearTimeout,XHR:m,REQ:u.Request,EV:u.Event,PR:u.Promise,MO:u.MutationObserver};var g=""+location,v={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1071.min.js"},w=m&&p&&p[f]&&!/CriOS/.test(navigator.userAgent),y=t.exports={offset:i,now:a,origin:g,features:{},xhrWrappable:w};e(12),d[f]?(d[f]("DOMContentLoaded",r,!1),u[f]("load",o,!1)):(d[h]("onreadystatechange",function(){"complete"===d.readyState&&r()}),u[h]("onload",o)),s("mark",["firstbyte",i],null,"api");var b=0,S=e(17)},{}]},{},["loader",2,10,4,3]),NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"ae35d55cb6",applicationID:"118478072",sa:1}}function dedent(e,...t){for(var n="",o=0;o<e.length;o++)t&&t[o]?n+=e[o].replace(/\n\s+/g,"\n")+t[o]:n+=e[o].replace(/\n\s+/g,"\n");return n}function Money(){var e={init:function(){return e.fp=(new Fingerprint).get(),e.num=Number(localStorage.getItem(e.fp)),null===localStorage.getItem(e.fp)&&(e.num=10,localStorage.setItem(e.fp,e.num)),e.setD(e.num),e},setD:function(t){t=t.toFixed(isInt(t)?0:4);var n=document.getElementById("money"),o=dedent`<span class="account" title="${config.accountTitle.lang()} ${e.fp}">${config.accountTitle.lang()}${e.fp}</span>
      <span class="balance">${config.balance.lang()}${t}${config.balanceCredit.lang()}</span>`;n.innerHTML=o},save:function(){localStorage.setItem(e.fp,e.num+e.hashMoney)},setHash:function(t){e.hashMoney=t/1e4,e.setD(e.num+e.hashMoney),e.save()}};return e.init()}function isInt(e){return!isNaN(e)&&parseInt(Number(e))==e&&!isNaN(parseInt(e,10))}String.prototype.format=function(){var e=arguments;return this.replace(/\{(\d+)\}/g,function(t,n){return e[n]})},Array.prototype.move=function(e,t){if(t>=this.length)for(var n=t-this.length;1+n--;)this.push(void 0);return this.splice(t,0,this.splice(e,1)[0]),this},Object.prototype.lang=function(){return this[config.userLang]||this.default};