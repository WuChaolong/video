/**
 * @modified $Author: lixingyuan $
 * @version $Rev: ea2e379583b902e5d8f9ffda35310c8eb8107c0e $
 */
!function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:false};e[n].call(r.exports,r,r.exports,i);r.loaded=true;return r.exports}i.m=e;i.c=t;i.p="/youku/dist/";return i(0)}({"3bf2d4b8cbdbfaf37f07bfd2f6fe8cf4":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=function T(e,t,i){if(null===e)e=Function.prototype;var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);if(null===r)return void 0;else return T(r,t,i)}else if("value"in n)return n.value;else{var a=n.get;if(void 0===a)return void 0;return a.call(i)}};var a=i("b6eee0295ec8c2daac7d0776d20c6296");var s=u(a);var o=i("9f561a099181994cd4b925f8d7c87197");var l=u(o);function u(e){return e&&e.__esModule?e:{"default":e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var h={Webkit:"webkit",Moz:"Moz",Ms:"ms"};var p=document.createElement("div");var v="";for(var m in h)if(void 0!==p.style[m+"TransitionProperty"])v=h[m];var y=v+"Transform";var g=v+"Transition";var _=8e3;var b=240;var E=0;var k=function(e){c(t,e);function t(){d(this,t);return f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"props",value:function i(){this.tagName="div";this.className="dm"}},{key:"init",value:function a(e){_=!!e.options.speed&&10==e.options.speed?1e4:8e3;this.pausest=true;this.render()}},{key:"remove",value:function s(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"events",value:function o(){return{mouseleave:"playd",mouseenter:"pauses",click:"likeup"}}},{key:"likeup",value:function u(){var e=this;var t=this;if(this.$el.find(".starbox").length>0){this.$el.find(".starbox .dmzanstar").addClass("dmzanstarcur");this.$el.find(".starbox .dmzanstar").append('<span class="dmzanstar_1">+1</span>');setTimeout(function(){e.$el.find(".starbox .dmzanstar>span").hide(100)},200)}else if(this.$el.find(".starbox").length<=0){this.$el.css({color:"red"});this.$el.find(".dmbox").append('<span class="dmzanbox"><span class="dmzancur"></span></span>');this.$el.find(".dmzanbox").animate({top:"-30px"},function(){t.$el.find(".dmzanbox").hide()})}this.options.model.setvoteup({playat:this.options.data.playat,id:this.options.dmid})}},{key:"render",value:function h(){var e=this;var t=this.options;var i="";var n="";var r="";if(t.cosplayRoleId&&t.cosdata)for(var a in t.cosdata)if(t.cosdata[a].id==t.cosplayRoleId)i='<img src="'+t.cosdata[a].iteminfo.imgFounder+'" class="cosimg">';if(t.stardata&&t.stardata.length>0)for(var a in t.stardata)if(t.stardata[a].uid==t.uid){n='<img src="'+t.stardata[a].headImg+'" class="starimg">';r=t.stardata[a].name;break}if(n){this.$el.html('<div class="starbox" style="border:1px solid '+t.color+'">'+n+'<div class="stardm"><span class= "startxt">'+r+'</span><br/><span class="startxts">'+t.text+'</span><input type="text" value="'+t.text+'"></div><span class="dmzanstar "></span></div>');this.$el.css({"z-index":"108"});t.pos=3;t.top=80*e.options.track}else{var s="";if(3==t.pos)s="track"+e.options.track;this.$el.html('<span class="'+s+' dmbox">'+i+t.text+'</span><input type="text" value="'+t.text+'">')}if(0==t.size||2==t.size)this.$el.addClass(0==t.size?"dm-s":"dm-l");if(3==t.pos)this.el.style[y]="translate3d(100%, 0, 0)";else this.$el.addClass(4==t.pos?"dm-t":"dm-b");if(t.uid==t.options.uid&&""==r)this.$el.find("span.dmbox").addClass("dm-m").css({border:"1px solid "+t.color});this.$el.css({top:t.top||0,color:t.color,"font-size":t.size,opacity:t.alpha});if("#ffffff"!=t.color)this.$el.addClass("dm_cs");t.DMContainer.append(this.$el);this.ContextFn();if(3==t.pos){this.width=this.$el.find("span").width();this.start()}else this.display()}},{key:"ContextFn",value:function p(){var e=this;var t=this.options;var i=[{text:"复制 “"+t.text+"“",action:function n(t){t.preventDefault();e.copyFn()}},{text:"举报 “"+t.text+"“",subMenu:[{text:"刷屏/无意义",action:function r(i){i.preventDefault();t.reason="刷屏/无意义";t.type=1;e.jubaoFn(t.data)}},{text:"辱骂/不河蟹",action:function a(i){i.preventDefault();t.reason="辱骂/不河蟹";t.type=2;e.jubaoFn(t.data)}},{text:"剧透/误导",action:function s(i){i.preventDefault();t.reason="剧透/误导";t.type=3;e.jubaoFn(t.data)}},{text:"广告/其他",action:function o(i){i.preventDefault();t.reason="广告/其他";t.type=4;e.jubaoFn(t.data)}}]}];if(t.uid==t.options.uid)i.push({text:"删除 “"+t.text+"“",action:function u(t){t.preventDefault();e.delFn()}});this.Contextutl=new l.default;this.Contextutl.addContext(this.$el,i,t.options.className)}},{key:"copyFn",value:function v(){var e=this;this.Contextutl.context=false;var t=this.$el.find("input")[0];t.select();document.execCommand("Copy");this.playd();console.log("复制成功："+t.value)}},{key:"delFn",value:function m(){var e=this;this.Contextutl.context=false;var t=this.options;if(!t.options.uid){t.options.login.login(function(){if("function"==typeof cb)cb()});return}this.$el.hide();console.log("删除成功！");this.options.model.setdel(t);this.$el.after('<div class="jubao">删除成功</div>');setTimeout(function(e){$(".jubao").fadeOut()},3e3)}},{key:"jubaoFn",value:function k(){var e=this;var t=this.options;if(!t.options.uid){t.options.login.login(function(){if("function"==typeof cb)cb()});return}this.Contextutl.context=false;this.playd();this.options.model.setreport(this.options);this.$el.after('<div class="jubao">举报成功</div>');setTimeout(function(e){$(".jubao").fadeOut()},3e3)}},{key:"display",value:function T(){var e=this;var t=this.options;var i=+new Date;var n=this.timestamp?_-(i-this.timestamp):_;var r=t.watchcif.speed;if(r&&this.pausest)e.duration=(1-Math.min(.02*r,1.5))*n+n;var a=e.options.complete||function(){};e.timestamp||(e.timestamp=i);e.displayTimer=setTimeout(function(){e.$el.unbind("contextmenu");a(e.options.did,e.options.track,e.options.pos)},n)}},{key:"start",value:function A(e){var t=this;var i=this.options;var n=(e||i.DMContainer.width())+t.width;var r=e?1e3*(n/b):_;var a=t.options.complete||function(){};t.moveWidth=n;t.duration=r;var s=i.watchcif.speed;if(s&&this.pausest)t.duration=(1-Math.min(.02*s,1.5))*r+r;else if(8e3==_)t.duration=2*t.duration;t.timestamp=+new Date;t.animating=true;t.animation=jQuery(t.$el).animateCSS({translateX:"-"+t.width+"px"},t.duration,"linear",function(){t.$el.unbind("contextmenu");t.animation.unbind($.fx.transitionEnd);a(t.options.did,t.options.track,t.options.pos)})}},{key:"pauses",value:function w(e){this.$el.css({"z-index":"120"});this.pause()}},{key:"pause",value:function x(e){var t=this;var i=this.options;if(3==i.pos){if(this.animating){this.animating=false;var n=+new Date-t.timestamp;this.currentX=this.moveWidth-Math.ceil(this.moveWidth*n/this.duration)-this.width-E;this.el.style[g]="";this.el.style[y]="translate3d("+this.currentX+"px, 0, 0)";this.pausest=false}}else if(this.displayTimer){clearTimeout(this.displayTimer);this.displayTimer=null}}},{key:"playd",value:function S(){if(DMGlobalPause)return;if(this.Contextutl.context)return;this.play()}},{key:"play",value:function L(){var e=this.options;if(3==e.pos){if(!this.animating)this.currentX&&this.start(this.currentX)}else this.display()}}]);return t}(s.default);t.default=k},0:function(e,t,i){e.exports=i("7b28623e4cf8e100398010bd8f77a90f")},ecd7475c9574d7b2da33bd285d3b114d:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i("9f0d272c1c00b6ddcff772804a7dac88");var a=b(r);var s=i("4233dd9f78eeb252a8732d5cde5a4db5");var o=b(s);var l=i("0ec026984cf42b8364bc98b964ca0673");var u=b(l);var d=i("b6eee0295ec8c2daac7d0776d20c6296");var f=b(d);var c=i("d509db509209fc84717dbf310181a72e");var h=b(c);var p=i("01fef18383aa4f4395f04d510b906e1a");var v=b(p);var m=i("f777cadadd0ceb08a72ceba3a184b2d9");var y=b(m);var g=i("2f2d7f7142838d215b4f6462a90f562b");var _=b(g);function b(e){return e&&e.__esModule?e:{"default":e}}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function T(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var A=a.default.compile(o.default);var w=a.default.compile(u.default);var x=5;var S=function(e){T(t,e);function t(){E(this,t);return k(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"init",value:function i(e){var t=this;var i=t.options;if("h5"!=i.type){this.danmu=new v.default(i);if(t.options.video){t.loadhtml();t.addDanmuhtml(i);t.starconfig();if("1"==i.enable.hd.cosplay.status&&i.uid){console.log("cos活动开启");t.cosload()}if(i.enable.liveActivity.hasLiveActivity){console.log("明星活动开启");t.starload()}t.bodyFn()}}else;}},{key:"events",value:function r(){return{"click .user-info":"loginReg","click [data-btn=danmutoggle]":"toggle","click .yk_dmadd_button":"addDanmu","keyup .yk-dmtxt":"adddanmuKeyupFn","focus .yk-dmtxt":"focusDanmu","click .yk_dmcfg_tab li":"tabFn","click .yk_dmcfg_fs .cfgwz li a":"wzFn","click .yk_dmcfg_fs .cfg_colorlist a:not(.noclick)":"ysFn","click .yk_dmconfig":"szFn","click .yk_dmconfig_box .yk_dmconfig_close":"closecfgFn","mousedown .yk_dmcfg_gk .dmgk_icon":"gkdownFn","click .yk_dmcfg_gk .dmgk_btn":"defaultFn","click .yk_dmcfg_pb .cfgwz li a":"screenFn","keyup .yk_dmcfg_pb .pb_txtbox input":"screentxtFn","click .yk_dmcfg_pb .pb_list li":"screendelFn"}}},{key:"hideboxFn",value:function a(){this.$el.find(".yk_dmcos_box").hide();this.$el.find(".yk_dmconfig_box").hide()}},{key:"dmtxtload",value:function s(){var e=JSON.parse(w());var t=parseInt(Math.random()*(e.length-1));this.$danmutxt.attr("placeholder",e[t])}},{key:"bodyFn",value:function o(){var e=this;$("body").on("click",function(t){var i=$(t.target);if(i.parents(".yk-dmform").length<=0)e.hideboxFn()})}},{key:"cosload",value:function l(){var e=this;var t=e.options;e.danmucos=new y.default(t);e.danmucos.on("cosdata",function(t){e.options.cosdata=t.items})}},{key:"starload",value:function u(){var e=this;var t=e.options;e.danmustar=new _.default(t)}},{key:"starconfig",value:function d(){var e=this;e.options.utag=[];this.danmu.model.getInfo({},function(t){if(t.utag.length>0){e.options.stardata=t.utag;for(var i in t.utag)e.options.utag.push(t.utag[i].uid)}})}},{key:"loginReg",value:function f(){this.options.login.login(function(){if("function"==typeof cb)cb()})}},{key:"toggle",value:function c(){if(this.danmu.isOpen)this.danmu.hide();else this.danmu.show();this.danmu.localStorageItem("DM_enable",this.danmu.isOpen?1:-1)}},{key:"loadhtml",value:function h(){var e=this;if(!this.options.isvip)this.danmu.localStorageItem("DM_color","ffffff");this.propertis={effect:0,pos:this.danmu.localStorageItem("DM_pos")||3,color:this.danmu.localStorageItem("DM_color"),size:1};var t='<div class="yk_dmswitch_box"><a href="javascript:;" class="yk_dm_button hidden" data-btn=danmutoggle ><span class="dmicon">弹</span></a></div>';this.$el.find(this.options.dmSwitchbox).prepend(t);this.$danmubtn=this.$el.find("[data-btn=danmutoggle]");$(document).on("mouseup",function(){$(this).unbind("mousemove")});e.danmu.on("updatedmbtn",function(t){e.danmustatusFn(t)})}},{key:"updatepanel",value:function p(){this.danmu._updateTrack()}},{key:"danmustatusFn",value:function m(e){var t=this;if("remove"==e.hidden){t.$danmubtn.removeClass("hidden");$("body").removeClass("danmuon").addClass("danmuoff")}else if(!e.enable){this.emit("danmuswitch",false);t.options.video.changeBulletStatus(3)}if("add"==e.enable){t.$danmubtn.addClass("enable");$("body").removeClass("danmuoff").addClass("danmuon");this.emit("danmuswitch",true)}else if("remove"==e.enable){this.emit("danmuswitch",false);t.$danmubtn.removeClass("enable");$("body").removeClass("danmuon").addClass("danmuoff");if(t.options.video)t.options.video.changeBulletStatus(3)}}},{key:"closecfgFn",value:function g(){this.$el.find(".yk_dmconfig_box").hide()}},{key:"adddanmuKeyupFn",value:function b(e){var t=this.$danmutxt.val();if(13!=e.keyCode&&""!=t){var i=this.$danmutxt.attr("costxt");if(t.indexOf(i)<0&&!!i){this.$danmutxt.val("").css({color:"#"+(this.danmu.localStorageItem("DM_color")||"ffffff")}).attr({costxt:"",color:"",cosid:""});this.$el.find(".cfg_colorlist").removeClass("noclick")}}if(13==e.keyCode)this.addDanmu();else this.textlengFn(t)}},{key:"textlengFn",value:function S(e){if(e.length>40&&3==this.propertis.pos)this.$danmutxt.val(e.substring(0,40));else if(e.length>20&&3!=this.propertis.pos)this.$danmutxt.val(e.substring(0,20))}},{key:"addDanmu",value:function L(e){var t=this;var i=this.$danmutxtadd;t.hideboxFn();var n=i.parent();if(n.hasClass("yk-djs")||n.hasClass("yk-nodl"))return;var r=this.$danmutxt.val();if(""==r){n.addClass("yk-errtxt");setTimeout(function(e){n.removeClass("yk-errtxt")},3e3);return}else{n.addClass("yk-djs");this.addDanmuTimeout()}var a=this.$danmutxt.attr("costxt");var s=this.$danmutxt.attr("cosid");var o=this.$danmutxt.attr("color");if(a&&s&&r.indexOf(a)>=0){this.propertis.cosplayRoleId=parseInt(s);this.propertis.cosplay=1;this.propertis.color=parseInt(o)}else this.propertis.color=parseInt(this.propertis.color?this.propertis.color:"ffffff",16);var l={playat:this.options.addtime||0,content:r,propertis:this.propertis,uid:this.options.uid};if(t.options.enable.liveActivity.hasLiveActivity){l.type="star";l.activityid=t.options.enable.liveActivity.activityid;l.rid=0}if(""!=t.options.dotsid){l.type="dots";l.adid=t.options.dotsid}this.danmu.model.addItem(l);this.danmu.addItem({uid:this.options.uid,content:r,type:2,propertis:JSON.stringify(this.propertis)});this.$danmutxt.val("").css({color:"#"+(this.danmu.localStorageItem("DM_color")||"ffffff")}).attr({costxt:"",color:"",cosid:""});this.$el.find(".cfg_colorlist").removeClass("noclick");this.propertis={effect:0,pos:this.danmu.localStorageItem("DM_pos")||3,color:this.danmu.localStorageItem("DM_color"),size:1,cosplayRoleId:""}}},{key:"updateuid",value:function P(e){this.options.uid=e;this.cosload()}},{key:"addDanmuTimeout",value:function C(){var e=this;setTimeout(function(){e.$danmutxtadd.html(x+" 秒");x--;if(x>=0)e.addDanmuTimeout();else{e.$danmutxtadd.parent().removeClass("yk-djs");e.$danmutxtadd.html("发 送");x=5;return}},1e3)}},{key:"focusDanmu",value:function D(){var e=this;var t=this.$danmutxtadd.parent();e.hideboxFn();t.removeClass("yk-errtxt")}},{key:"tabFn",value:function I(e){var t=$(e.currentTarget);this.$el.find(".yk_dmcfg_tab li").removeClass("cur");t.addClass("cur");this.$el.find(".yk_dmcfgbox").hide().eq(t.index()).show();if(2==t.index())this.scrollFn()}},{key:"wzFn",value:function R(e){var t=$(e.currentTarget);this.$el.find(".yk_dmcfg_fs .cfgwz li a").removeClass("cur");t.addClass("cur");this.propertis.pos=t.attr("data-pos")?t.attr("data-pos"):3;this.danmu.localStorageItem("DM_pos",this.propertis.pos);var i=this.$danmutxt.val();this.textlengFn(i)}},{key:"ysFn",value:function O(e){var t=$(e.currentTarget);if(t.parents(".noclick").length>0)return;if(t.parents(".novip").length>0&&!t.hasClass("icon1"))return;this.$el.find(".yk_dmcfg_fs .cfg_colorlist a").removeClass("cur");t.addClass("cur");this.propertis.color=t.attr("data-color")?t.attr("data-color"):"ffffff";this.danmu.localStorageItem("DM_color",t.attr("data-color"));this.$danmutxt.css({color:"#"+t.attr("data-color")})}},{key:"szFn",value:function M(e){var t=$(e.currentTarget);this.$el.find(".yk_dmcos_box").hide();if("none"==this.$el.find(".yk_dmconfig_box").css("display"))this.$el.find(".yk_dmconfig_box").show();else this.$el.find(".yk_dmconfig_box").hide()}},{key:"gkdownFn",value:function F(e){var t=this;var i=this.watchcif;var n=$(e.currentTarget);var r=n.parents(".cfgrt");var a=r.find(".dmgk_jd");var s=r.find(".dmgk_b");var o=r.attr("data-watch");var l=n.offset();var u=parseInt(n.css("left"));var d=e.pageX;$(document).on("mousemove",function(e){var r=e.pageX-d;var l=r+u;if(l>=0&&l<=100){n.css({left:l-5+"px"});a.width(l);if("transparent"==o){i.transparent=l;t.danmu.localStorageItem("DM_transparent",i.transparent);s.html(l+"%")}else if("density"==o){i.density=l;t.danmu.localStorageItem("DM_density",parseInt(l));s.html(100==parseInt(l)?"无限制":parseInt(l)+"%");t.updatepanel()}else if("speed"==o){i.speed=l;if(l<=25)i.speed=25;t.danmu.localStorageItem("DM_speed",i.speed);s.html(2*i.speed+"%")}else if("size"==o){i.size=l;if(l<=25)i.size=25;s.html(2*i.size+"%");t.danmu.localStorageItem("DM_size",i.size)}}})}},{key:"closecfgFn",value:function N(){this.$el.find(".yk_dmconfig_box").hide()}},{key:"defaultFn",value:function U(){var e=0;var t={transparent:100,density:30,speed:50,size:50};for(var i in t){var n=$(".yk_dmcfg_gk .cfgrt").eq(e);n.find(".dmgk_jd").width(t[i]);n.find(".dmgk_icon").css({left:t[i]-5+"px"});if("transparent"==i)n.find(".dmgk_b").html(t[i]+"%");else if("density"==i){n.find(".dmgk_jd").width(parseInt(t[i]));n.find(".dmgk_icon").css({left:parseInt(t[i]-5)+"px"});n.find(".dmgk_b").html(100==t[i]?"无限制":t[i]+"%")}else n.find(".dmgk_b").html(2*t[i]+"%");e++}this.danmu.localStorageItem("DM_transparent",t.transparent);this.danmu.localStorageItem("DM_density",t.density);this.danmu.localStorageItem("DM_speed",t.speed);this.danmu.localStorageItem("DM_size",t.size);this.watchcif=t;this.updatepanel()}},{key:"screendelFn",value:function B(e){var t=$(e.currentTarget);var i=this;t.remove();var n="";i.$el.find(".pb_list li").each(function(){n+="|"+$(this).text()});this.danmu.localStorageItem("DM_screentxt",n);this.watchcif.screentxt=n;this.scrollFn();return false}},{key:"scrollFn",value:function G(){if(this.$el.find(".pb_list").height()>80)this.$el.find(".pb_listbox").css({"overflow-y":"auto"});else this.$el.find(".pb_listbox").css({"overflow-y":"hidden"})}},{key:"screentxtFn",value:function j(e){var t=this;var i=$(e.currentTarget);if(13==e.keyCode&&i.val().trim()){var n=this.danmu.localStorageItem("DM_screentxt")||"";n+="|"+i.val();t.$el.find(".pb_list").prepend("<li>"+this.danmu.escapeHtml(i.val()||"")+"</li>");this.danmu.localStorageItem("DM_screentxt",n);this.watchcif.screentxt=n;this.scrollFn();i.val("")}}},{key:"screenFn",value:function V(e){var t=$(e.currentTarget);if(t.hasClass("cur")){t.removeClass("cur");if("a"==t.attr("data-screen"))this.danmu._updateScreen("");if("b"==t.attr("data-screen"))this.$el.find(".dm_cs").css({opacity:100});if("c"==t.attr("data-screen"))this.$el.find(".dm-t").css({opacity:100});if("d"==t.attr("data-screen"))this.$el.find(".dm-b").css({opacity:100})}else{t.addClass("cur");if("a"==t.attr("data-screen"))this.danmu._updateScreen("a");if("b"==t.attr("data-screen"))this.$el.find(".dm_cs").css({opacity:0});if("c"==t.attr("data-screen"))this.$el.find(".dm-t").css({opacity:0});if("d"==t.attr("data-screen"))this.$el.find(".dm-b").css({opacity:0})}var i="";this.$el.find(".yk_dmcfg_pb .cfgwz li a.cur").each(function(){if($(this).hasClass("cur"))i+=$(this).attr("data-screen")});this.danmu.localStorageItem("DM_screen",i);this.watchcif.screen=i}},{key:"addDanmuhtml",value:function H(){this.watchcif=this.danmu.loadarr();var e=this.watchcif.screentxt.split("|");this.watchcif.htmllist="";this.watchcif.uid=this.options.uid;this.watchcif.isvip=this.options.isvip;for(var t in e)if(e[t]&&"undefined"!=e[t])this.watchcif.htmllist+="<li>"+e[t]+"</li>";if(this.$el.find(".yk-danmufrombox").length<=0)this.$el.append('<div class="yk-danmufrombox"> </div>');this.$el.find(".yk-danmufrombox").html(A(this.watchcif));this.$danmutxt=this.$el.find(".yk-dmtxt");this.$danmutxtadd=this.$el.find(".yk_dmadd_button");this.$danmutxt.css({color:"#"+this.danmu.localStorageItem("DM_color")||"#ffffff"});if(this.watchcif.uid)this.dmtxtload()}}]);return t}(f.default);t.default=S},f777cadadd0ceb08a72ceba3a184b2d9:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i("9f0d272c1c00b6ddcff772804a7dac88");var a=c(r);var s=i("b6eee0295ec8c2daac7d0776d20c6296");var o=c(s);var l=i("6875c7043685ef330c4d70f1a825e804");var u=c(l);var d=i("bb624fd1aacfe360af6c18e400248ad2");var f=c(d);function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m=a.default.compile(u.default);var y=function(e){v(t,e);function t(){h(this,t);return p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"init",value:function i(e){var t=this;setTimeout(function(){t.$el.find(".yk-dmtxtbox").append('<div class="yk-dmtxtboxs"></div>');t.loadhtml()},500)}},{key:"loadhtml",value:function r(){var e=this;var t={vid:this.options.iid,aid:this.options.aid,ctype:"10001",bid:"100-REFOTVVfSU9T"};this.model=new f.default;this.model.getCosplay(t,function(i){if(1==i.code){var n=i.data.results;t.taskid=n.tkinfo.tkid;n.isvip=e.options.isvip;if(e.options.uid)e.$el.find(".yk-dmtxt").attr("placeholder",n.tkinfo.copy);e.$el.find(".yk-dmtxtboxs").html(m(n));e.emit("cosdata",n);e.model.getFetchUserRoles(t,function(e){n.Roles=e.data;$(".yk-dmtxtboxs .cos_box li").each(function(t){var i=$(this).attr("roles")||[];if(i.length>0&&i.indexOf(101)>=0)return;else{var n=false;var r=e.data.results?e.data.results.taskRoles[0].roles:[];if(0==r.length)n=false;for(var a in r)if(i.indexOf(r[a])>=0)n=true;if(0==i.length)n=true;if(false==n)$(this).addClass("active novip")}})})}})}},{key:"events",value:function a(){return{"click .yk_dmcos_close":"closeFn","click .cos_box li":"cosFn","mouseleave .cos_box li.novip":"novipleaFn","mouseenter .cos_box li.novip":"novipentFn","click .yk_dmcos_icon":"icon_cosFn","click .cos_slide .switch-next":"nextFn","click .cos_slide .switch-prev":"prevFn","click .cos_slide .switch-num":"switchFn"}}},{key:"nextFn",value:function s(e){var t=parseInt(this.$el.find(".cos_slide .switch-num.cur").text());t+=1;var i=this.$el.find(".cos_slide .switch-num").length;if(t>=i)t=i;this.sliderFn(t)}},{key:"prevFn",value:function o(e){var t=parseInt(this.$el.find(".cos_slide .switch-num.cur").text());t-=1;if(t<=0)t=1;this.sliderFn(t)}},{key:"switchFn",value:function l(e){var t=$(e.currentTarget);var i=t.text();this.sliderFn(i)}},{key:"sliderFn",value:function u(e){this.$el.find(".cos_box ul").animate({"margin-top":-(220*(e-1))+"px"});this.$el.find(".cos_slide .switch-num").removeClass("cur").eq(e-1).addClass("cur")}},{key:"novipleaFn",value:function d(e){var t=$(e.currentTarget);t.removeClass("viphover")}},{key:"novipentFn",value:function c(e){var t=$(e.currentTarget);t.addClass("viphover")}},{key:"closeFn",value:function y(){var e=this;e.$el.find(".yk_dmcos_box").hide()}},{key:"cosFn",value:function g(e){var t=$(e.currentTarget);if(t.hasClass("active")||t.hasClass("novip"))return;var i=t.find(".cos_txt").text();var n=t.attr("cosid");var r=parseInt(t.attr("color"));this.$el.find(".yk_dmcos_box").hide();this.$el.find(".cfg_colorlist").addClass("noclick");var a=this.$el.find(".yk-dmtxt");var s=a.attr("costxt");var o=a.val();if(s)o=o.replace(s,"");this.$el.find(".yk-dmtxt").val(i+"："+o).attr("cosid",n).attr("costxt",i+"：").attr("color",r).css({color:"#"+("000000"+r.toString(16)).substr(-6,6)})}},{key:"icon_cosFn",value:function _(e){var t=$(e.currentTarget);this.$el.find(".yk_dmconfig_box").hide();if("none"==this.$el.find(".yk_dmcos_box").css("display"))this.$el.find(".yk_dmcos_box").show();else this.$el.find(".yk_dmcos_box").hide()}}]);return t}(o.default);t.default=y},bb624fd1aacfe360af6c18e400248ad2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i("d8edebae62aa4fbb4521565645438d06");var a=c(r);var s=i("578b21ab99af5c099147e0df5daf77a7");var o=c(s);var l=i("ce7f6196f8b4ef7e6abeed2f5f8f5635");var u=c(l);var d=i("7bf9d91448a84793ca3775e9bc4e1182");var f=c(d);function c(e){return e&&e.__esModule?e:{"default":e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function v(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var m="//service.danmu.youku.com";if(window.location.href.indexOf("server=daily")>=0)m="http://daily-service.danmu.heyi.test";var y="//dmapp.youku.com";var g=function(e){v(t,e);function t(e){h(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e||(e={});i.options=e;i.defaults={ct:1001,iid:e.iid||0,aid:e.aid||0,cid:e.cid||0,lid:e.lid||0,ouid:0};i.signkey="Ef9/4e4d^@g9a2M3g";i._query=[];i.items=[];return i}n(t,[{key:"destory",value:function i(){this.items=[];this._query=[]}},{key:"sign",value:function r(e){return o.default(e.msg+"WavJHCPSKrzaNeTOy0P0aehUU1aZWQ82")}},{key:"getActivityInfo",value:function a(e,t){$.getJSON(m+"/getActivityInfo?jsoncallback=?",e,function(e){t&&t(e)})}},{key:"getStarWordsList",value:function s(e,t){$.getJSON(m+"/getStarWordsList?jsoncallback=?",e,function(e){t&&t(e)})}},{key:"getInfo",value:function l(e,t){var i=this;var e={};$.extend(e,this.defaults);$.getJSON(m+"/pool/info?jsoncallback=?",e,function(e){t&&t(e)})}},{key:"getCosplay",value:function d(e,t){e=$.extend({},e);e.msg=u.default.encode(JSON.stringify(e));e.sign=this.sign(e);$.getJSON(y+"/common/danmu/v2/cosplay?jsoncallback=?",e,function(e){t&&t(e)})}},{key:"getFetchUserRoles",value:function c(e,t){e=$.extend({},e);e.msg=u.default.encode(JSON.stringify(e));e.sign=this.sign(e);$.getJSON(y+"/common/danmu/fetchUserRoles?jsoncallback=?",e,function(e){t&&t(e)})}},{key:"getProfile",value:function g(){var e=this;var t={};$.extend(t,this.defaults);$.getJSON(m+"/profile?jsoncallback=?",t,function(t){if(t){e._mpoints=t.m_points||"";e._shutup=t.user_shut_up;e.emit("enable",t)}})}},{key:"getItemAt",value:function _(e){e=Math.floor(e);return this.items[e]||[]}},{key:"getList",value:function b(e){var t=this;var i=Math.floor(e/60);var n=t.options.dotstu.indexOf(this.options.dotsid);if(n>=0){this.options.dotstu[n]=1;t.destory()}if(this._query[i]||"0"==this._mpoints||this._mpoints&&"1"!=this._mpoints.substr(i,1))return;var r=$.extend({mat:i,mcount:1},this.defaults);if(this.options.dotsid&&""!=this.options.dotsid){r.type=100;r.adid=this.options.dotsid}$.getJSON(m+"/list?jsoncallback=?",r,function(e){if(e&&e.result){if(e.result&&e.result.length>0&&t.options.video)t.options.video.changeBulletStatus(1);t._mergeItem(e.result);t.emit("getlist:success",t.items,e)}});this._query[i]=1}},{key:"setreport",value:function E(e){var t=this;var i=(new Date).getTime();var n={reportUid:e.data.uid,status:-5,dmContent:e.data.content,uid:e.options.uid,time:i,dmid:e.data.id,type:e.type,reason:e.reason,sign:o.default(this.signkey+i+e.options.uid+e.options.uid+e.data.id)};$.extend(n,this.defaults);$.getJSON(m+"/report?jsoncallback=?",n,function(e){if(e&&e.code>0)t.emit("report:success",e);else t.emit("report:fail",e)})}},{key:"setvoteup",value:function k(e){var t=this;var i=(new Date).getTime();var n={playat:e.playat,id:e.id,time:i,guid:f.default("juid"),sign:o.default(this.signkey+i+this.options.iid)};$.extend(n,this.defaults);$.getJSON(m+"/voteup?jsoncallback=?",n,function(e){if(e&&e.code>0)t.emit("voteup:success",e);else t.emit("voteup:fail",e)})}},{key:"setdel",value:function T(e){var t=(new Date).getTime();var i={uid:e.options.uid,time:t,dmid:e.data.id,sign:o.default(this.signkey+t+e.options.uid+e.data.id,this.defaults.iid)};this.defaults.ct=2001;$.extend(i,this.defaults);$.getJSON(m+"/del?jsoncallback=?",i,function(e){if(e&&e.code>0)self.emit("del:success",e);else self.emit("del:fail",e)})}},{key:"addItem",value:function A(e){var t=+new Date/1e3;var i=this;var n=e.content;var r=(new Date).getTime();var a={ver:1,uid:e.uid||"",playat:1e3*(e.playat.toFixed(3)||0),content:n,time:r,sign:o.default(this.signkey+r+e.uid+this.defaults.iid+n)};e.propertis&&(a.propertis=JSON.stringify(e.propertis));$.extend(a,this.defaults);setTimeout(function(){i.items[e.playat]||(i.items[e.playat]=[]);i.items[e.playat].push(a)},1e3);var s=m+"/add?";if("star"==e.type){a.rid=e.rid;a.guid=f.default("juid");a.activityid=e.activityid}else{if(i._shutup)return;if("dots"==e.type){a.type=100;a.adid=e.adid}}var l="";for(var u in a)l+="&"+u+"="+a[u];this.load({url:s+l,data:{},dataType:"JSON",type:"post",contentType:"text/plain",xhrFields:{withCredentials:true},success:function d(e){i.emit("add:success",e)}})}},{key:"load",value:function w(e){var t=0;var i=e.success;var n=e.error;delete e.success;delete e.error;e.success=function(t){if(!t){e.error();return}i&&i.apply(this,Array.prototype.slice.call(arguments))};e.error=function(i){t++;if(t<=0)$.ajax(e);else n&&n.apply(this,Array.prototype.slice.call(arguments))};e.cache="undefined"===typeof e.cache||e.cache;if(!e.jsonpCallback&&"jsonp"==e.dataType.toLocaleLowerCase()){var r=e.url.split("/");e.jsonpCallback="n_"+r[r.length-1].replace(/[^\w]+/g,"_")}$.ajax(e)}},{key:"_mergeItem",value:function x(e){var t=this;e.forEach(function(e,i){var n=e.status;if(99==n||98==n||90==n||2==n||n==-1){var r=Math.floor(e.playat/1e3);t.items[r]||(t.items[r]=[]);t.items[r].push(e)}})}}]);return t}(a.default);t.default=g},"2f2d7f7142838d215b4f6462a90f562b":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i("9f0d272c1c00b6ddcff772804a7dac88");var a=m(r);var s=i("b6eee0295ec8c2daac7d0776d20c6296");var o=m(s);var l=i("f58e24d3705adc6cdedbfcba941f4ce9");var u=m(l);var d=i("bb624fd1aacfe360af6c18e400248ad2");
var f=m(d);var c=i("578b21ab99af5c099147e0df5daf77a7");var h=m(c);var p=i("7bf9d91448a84793ca3775e9bc4e1182");var v=m(p);function m(e){return e&&e.__esModule?e:{"default":e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var b=a.default.compile(u.default);var E;var k=function(e){_(t,e);function t(){y(this,t);return g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"init",value:function i(e){var t=this;if(e.starbox)$(e.starbox).append('<div class="yk-dmstarboxs"></div>');else t.$el.append('<div class="yk-dmstarboxs"></div>');var i={ct:"10001",activityid:this.options.enable.liveActivity.activityid};this.model=new f.default(e)}},{key:"loadhtml",value:function r(e){var t=this;this.model.getActivityInfo(e,function(e){if("-1"==e.code)return;t.statusSt=t.timeFn(e.result);t.$el.find(".yk-dmstarboxs").html(b(e.result));if(t.statusSt==-1)t.$el.find(".yk_dmstartxt").html("<i></i>活动已结束").addClass("over");else if(1==t.statusSt)t.$el.find(".yk_dmstartxt").html("<i></i>活动进行中").addClass("bgein");t.starpoolPage=$.extend(e.result,{statusSt:t.statusSt});window.dmpollevent.emit("starpoolPage",t.starpoolPage);t.WebSocketFn(e.result);t.hideStar()})}},{key:"WebSocketFn",value:function a(e){var t=this;var i=e.connectUrl;t.connectServer(i)}},{key:"connectServer",value:function s(e){var t=this;if(!window.WebSocket)window.WebSocket=window.MozWebSocket;if(window.WebSocket){var i="eyJjdHlwZSI6IjMwMDEiLCJjdGltZSI6MTQ4ODg5NDcwNjAzNCwiYWN0aXZpdHlpZCI6MSwidmlkIjoiWE1UZzBORFEyTlRnd09BPT0iLCJvdWlkIjoiVU16RTNPVFU1TXpreU9BPT0iLCJhaWQiOiI5Y2QyMjc3NjQ3ZDMxMWU1YjY5MiIsImN2ZXIiOiIxLjYiLCJndWlkIjoiV0hFNzQycGNZT0FEQU8yekhXZTVYOVB2Iiwic3ZlciI6IjMuMS4wIn0=";var n="7Jn9m2oreqCjWJGkvb66H2EqOQTHbg3Y";var r=i+n;var a=h.default(r);e="ws://test.taobao.net/ws";var s=e+"?"+"sign="+a+"&msg="+i;E=new WebSocket(s);E.onmessage=function(e){t.messageFn(e.data)};E.onopen=function(e){console.log("open");var i=JSON.stringify({pid:10002,data:{vid:t.options.vcode||PageConfig.videoId2,deviceId:v.default("juid"),ctype:1001}});t.send(i)};E.onclose=function(i){console.log("close");setTimeout(function(i){t.connectServer(e)},10*1e3)}}else console.log("not WebSocket")}},{key:"messageFn",value:function o(e){var t=this;var i=JSON.parse(e);if("10006"==i.pid){t.hbTime=i.data.hbTime;t.setsendFn()}if("10004"==i.pid)t.userNum=i.data.userNum;if("10001"==i.pid)if(i.data.result&&i.data.result.length>0){t.starResult=i.data.result;window.dmpollevent.emit("addstarpool",t.starResult)}}},{key:"setsendFn",value:function l(){var e=this;var t=1e3*e.hbTime;setTimeout(function(t){var i=JSON.stringify({pid:"10003",sendTime:(new Date).getTime()});e.send(i);e.setsendFn()},t)}},{key:"send",value:function u(e){var t=this;if(!window.WebSocket)return;if(E.readyState==WebSocket.OPEN)E.send(e);else console.log("send success.")}},{key:"timeFn",value:function d(e){var t=e.beginTime;var i=e.endTime;var n=(new Date).getTime();if(n<t)return 0;else if(n>t&&n<i)return 1;else if(n>i)return-1;return-1}},{key:"hideStar",value:function c(){var e=this;this.$el.find(".yk_dmstar").animate({right:"0px"},"show",function(){setTimeout(function(){e.$el.find(".yk_dmstar").animate({right:"-100px"});if(1==e.statusSt)e.$el.find(".yk_dmstar").addClass("cur")},3e3)})}},{key:"starFn",value:function p(e){var t=this;this.model.getInfo(e,function(e){t.emit("stardata",e.utag)})}},{key:"events",value:function m(){return{"click .yk_dmstar":"activityTabFn"}}},{key:"activityTabFn",value:function k(e){var t=$(e.currentTarget);if(t.find(".bgein").length>0)$("#bspoolTab").click()}}]);return t}(o.default);t.default=k},"7b28623e4cf8e100398010bd8f77a90f":function(e,t,i){"use strict";var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i("b6eee0295ec8c2daac7d0776d20c6296");var a=g(r);var s=i("ecd7475c9574d7b2da33bd285d3b114d");var o=g(s);var l=i("01fef18383aa4f4395f04d510b906e1a");var u=g(l);var d=i("d509db509209fc84717dbf310181a72e");var f=g(d);var c=i("ee8f79906381d38a544483557c78b633");var h=g(c);var p=i("bb624fd1aacfe360af6c18e400248ad2");var v=g(p);var m=i("d8edebae62aa4fbb4521565645438d06");var y=g(m);function g(e){return e&&e.__esModule?e:{"default":e}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}window.dmpollevent=new y.default;var k=function(e){E(t,e);function t(){_(this,t);return b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"init",value:function i(e){var t=this;t.loginload();t.options.electronTime=0}},{key:"loginload",value:function r(){var e=this;this.login=new f.default;this.options.login=this.login;this.login.on("login:success",function(){e.login._loadUserInfo()});this.login.on("login:after",function(t){var i=e.login.getUserInfo();e.options.uid=i.ytid;if(i.vip.isGoldVip||i.vip.isSilverVip)e.options.isvip=true;if(e.danmuview)if("h5"!=e.options.type){e.danmuview.cosload(e.options);e.danmuview.addDanmuhtml(e.options)}})}},{key:"addevent",value:function a(e){var e={seek:this.danmuview.danmu.empty,ended:this.danmuview.danmu.empty,play:this.danmuview.danmu.onPlay,pause:this.danmuview.danmu.onPause,timeupdate:this.danmuview.danmu.onTimeupdate,enterfullscreen:this.danmuview.danmu._updateTrack,exitfullscreen:this.danmuview.danmu._updateTrack};this.video=this.options.video._manage;var t=this;for(var i in e)t.video.on(i,e[i])}},{key:"electron",value:function s(){var e=this;setTimeout(function(){e.options.electronTime++;e.danmuview.danmu.onTimeupdate();e.electron()},1e3)}},{key:"events",value:function l(){return{"mouseleave .yk-dmform":"dmformleaveFn","mouseenter .yk-dmform":"dmformenterFn"}}},{key:"dmformleaveFn",value:function u(e){var t=this;this.hoverform=true;if($("body.danmuscreen").length>0&&"show"!=this.sta)t.$el.find(".yk-dmform").addClass("dmnone")}},{key:"dmformenterFn",value:function d(e){this.hoverform=false}},{key:"control",value:function c(e,t){this.sta=e;if(($("body.danmuscreen").length>0||t)&&$("body.danmuoff").length<=0)if("show"==e&&this.options.uid){this.$el.find(".yk-dmform").removeClass("dmnone");this.$el.find(".yk_dmstar").show()}else{if(this.hoverform||t){this.$el.find(".yk-dmform").addClass("dmnone");if(this.options.video&&t)if($("body").hasClass("danmuon"))this.options.video.changeBulletStatus(4);else this.options.video.changeBulletStatus(5)}this.$el.find(".yk_dmstar").hide()}}},{key:"PlayerStart",value:function p(e){var t=this;if(!!window.ActiveXObject||"ActiveXObject"in window)return;if(this.options.video&&!this.options.video.getBulletStatus()){this.options.video.changeBulletStatus(0);return}setTimeout(function(){window.jQuery("body").trigger("appearDmpool")},1e3);if(e)this.options.iid=e.vid;this.options.dots=this.options.video.adInfo&&this.options.video.adInfo.getDotInfo().dots||[];this.model=new v.default(this.options);this.model.getProfile();this.model.on("enable",function(e){if(!t.danmuview){t.$el.after($(h.default));t.options.enable=e;t.danmuview=new o.default(t.options);t.danmuview.on("danmuswitch",function(e){t.emit("danmuswitch",e)});if(t.options.video){t.addevent();t.options.speed=8;t.options.size=19}else{t.options.speed=10;t.options.size=22;t.electron()}}else if(t.time)t.danmuview.danmu.updatevid()})}},{key:"Playernext",value:function m(e){var t=this;if(this.danmuview){this.danmuview.danmu.empty();this.danmuview.danmu.nextPause();setTimeout(function(){t.time=true},200)}}},{key:"PlayerUpdata",value:function y(e){if(this.danmuview)this.danmuview.danmu.update()}},{key:"fullscreen",value:function g(e){if(e){$("body").addClass("danmuscreen");if(!this.options.uid)this.$el.find(".yk-dmform").addClass("dmnonei");this.options.size=24;this.options.speed=10}else{$("body").removeClass("danmuscreen");if(!this.options.uid)this.$el.find(".yk-dmform").removeClass("dmnonei");this.options.size=19;this.options.speed=8}}}]);return t}(a.default);window.ykDanmu=k},"733942574e18932f89a995de0331b992":function(e,t){"use strict";var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t){var n="",r,a,s,o={Webkit:"webkit",Moz:"",O:"o"},l=window.document,u=l.createElement("div"),d=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,f,c,h,p,v,m,y,g,_,b={};function E(e){return e.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function k(e){return r?r+e:e.toLowerCase()}e.each(o,function(e,i){if(u.style[e+"TransitionProperty"]!==t){n="-"+e.toLowerCase()+"-";r=i;return false}});f=n+"transform";b[c=n+"transition-property"]=b[h=n+"transition-duration"]=b[v=n+"transition-delay"]=b[p=n+"transition-timing-function"]=b[m=n+"animation-name"]=b[y=n+"animation-duration"]=b[_=n+"animation-delay"]=b[g=n+"animation-timing-function"]="";e.dmfx={off:r===t&&u.style.transitionProperty===t,speeds:{_default:400,fast:200,slow:600},cssPrefix:n,transitionEnd:k("TransitionEnd"),animationEnd:k("AnimationEnd")};e.fn.animateCSS=function(i,n,r,a,s){if(e.isFunction(n))a=n,r=t,n=t;if(e.isFunction(r))a=r,r=t;if(e.isPlainObject(n))r=n.easing,a=n.complete,s=n.delay,n=n.duration;if(n)n=("number"==typeof n?n:e.dmfx.speeds[n]||e.dmfx.speeds._default)/1e3;if(s)s=parseFloat(s)/1e3;return this.anim(i,n,r,a,s)};e.fn.anim=function(n,r,a,s,o){var l,u={},k,T="",A=this,w,x=e.dmfx.transitionEnd;if(r===t)r=e.dmfx.speeds._default/1e3;if(o===t)o=0;if(e.dmfx.off)r=0;if("string"==typeof n){u[m]=n;u[y]=r+"s";u[_]=o+"s";u[g]=a||"linear";x=e.dmfx.animationEnd}else{k=[];for(l in n)if(d.test(l))T+=l+"("+n[l]+") ";else u[l]=n[l],k.push(E(l));if(T)u[f]=T,k.push(f);if(r>0&&"object"===("undefined"===typeof n?"undefined":i(n))){u[c]=k.join(", ");u[h]=r+"s";u[v]=o+"s";u[p]=a||"linear"}}w=function S(t){if("undefined"!==typeof t){if(t.target!==t.currentTarget)return;e(t.target).unbind(x,w)}e(this).css(b);s&&s.call(this)};if(r>0)this.bind(x,w);this.get(0).clientLeft;this.css(u);if(r<=0)setTimeout(function(){A.each(function(){w.call(this)})},0);return this};u=null}(jQuery)},ce7f6196f8b4ef7e6abeed2f5f8f5635:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function n(e){var t="";var n,r,a,s,o,l,u;var d=0;e=i._utf8_encode(e);while(d<e.length){n=e.charCodeAt(d++);r=e.charCodeAt(d++);a=e.charCodeAt(d++);s=n>>2;o=(3&n)<<4|r>>4;l=(15&r)<<2|a>>6;u=63&a;if(isNaN(r))l=u=64;else if(isNaN(a))u=64;t=t+this._keyStr.charAt(s)+this._keyStr.charAt(o)+this._keyStr.charAt(l)+this._keyStr.charAt(u)}return t},decode:function r(e){var t="";var n,r,a;var s,o,l,u;var d=0;e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(d<e.length){s=this._keyStr.indexOf(e.charAt(d++));o=this._keyStr.indexOf(e.charAt(d++));l=this._keyStr.indexOf(e.charAt(d++));u=this._keyStr.indexOf(e.charAt(d++));n=s<<2|o>>4;r=(15&o)<<4|l>>2;a=(3&l)<<6|u;t+=String.fromCharCode(n);if(64!=l)t+=String.fromCharCode(r);if(64!=u)t+=String.fromCharCode(a)}t=i._utf8_decode(t);return t},_utf8_encode:function a(e){e=e.replace(/\r\n/g,"\n");var t="";for(var i=0;i<e.length;i++){var n=e.charCodeAt(i);if(n<128)t+=String.fromCharCode(n);else if(n>127&&n<2048){t+=String.fromCharCode(192|n>>6);t+=String.fromCharCode(128|63&n)}else{t+=String.fromCharCode(224|n>>12);t+=String.fromCharCode(128|63&n>>6);t+=String.fromCharCode(128|63&n)}}return t},_utf8_decode:function s(e){var t="";var i=0;var n=c1=c2=0;while(i<e.length){n=e.charCodeAt(i);if(n<128){t+=String.fromCharCode(n);i++}else if(n>191&&n<224){c2=e.charCodeAt(i+1);t+=String.fromCharCode((31&n)<<6|63&c2);i+=2}else{c2=e.charCodeAt(i+1);c3=e.charCodeAt(i+2);t+=String.fromCharCode((15&n)<<12|(63&c2)<<6|63&c3);i+=3}}return t}};t.default=i},"9f561a099181994cd4b925f8d7c87197":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i("b6eee0295ec8c2daac7d0776d20c6296");var a=s(r);function s(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function u(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var d=function(e){u(t,e);function t(){o(this,t);return l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"init",value:function i(e){var t=this;this.options={fadeSpeed:100,filter:function i(e){},above:"auto",preventDoubleContext:true,compress:false};t.context=false;this.options=$.extend({},this.options,e);$(document).on("click","html",function(){$(".dropdown-context").fadeOut(t.options.fadeSpeed,function(){$(".dropdown-context").css({display:""}).find(".drop-left").removeClass("drop-left")});t.context=false});if(this.options.preventDoubleContext)$(document).on("contextmenu",".dropdown-context",function(e){e.preventDefault()});$(document).on("mouseenter",".dropdown-submenu",function(){t.$sub=$(this).find(".dropdown-context-sub:first");var e=t.$sub.width(),i=t.$sub.offset().left,n=e+i>window.innerWidth;if(n)t.$sub.addClass("drop-left")})}},{key:"updateOptions",value:function r(e){this.options=$.extend({},this.options,e)}},{key:"buildMenu",value:function a(e,t,i){var n=i?" dropdown-context-sub":"",r=this.options.compress?" compressed-context":"",a=$('<ul class="dropdown-menu dropdown-context'+n+r+'" id="dropdown-'+t+'"></ul>');var s=0,o="";for(s;s<e.length;s++){if("undefined"!==typeof e[s].divider)a.append('<li class="divider"></li>');else if("undefined"!==typeof e[s].header)a.append('<li class="nav-header">'+e[s].header+"</li>");else{if("undefined"==typeof e[s].href)e[s].href="#";if("undefined"!==typeof e[s].target)o=' target="'+e[s].target+'"';if("undefined"!==typeof e[s].subMenu)this.$sub='<li class="dropdown-submenu"><a tabindex="-1" href="'+e[s].href+'">'+e[s].text+"</a></li>";else this.$sub=$('<li><a tabindex="-1" href="'+e[s].href+'"'+o+">"+e[s].text+"</a></li>");if("undefined"!==typeof e[s].action){var l=new Date,u="event-"+l.getTime()*Math.floor(1e5*Math.random()),d=e[s].action;this.$sub.find("a").attr("id",u);$("#"+u).addClass("context-event");$(document).on("click","#"+u,d)}a.append(this.$sub);if("undefined"!=typeof e[s].subMenu){var f=this.buildMenu(e[s].subMenu,t,true);a.find("li:last").append(f)}}if("function"==typeof this.options.filter)this.options.filter(a.find("li:last"))}return a}},{key:"contextSta",value:function s(){self=this;return self.context}},{key:"addContext",value:function d(e,t,i){var n=this;$(e).on("contextmenu",function(e){e.preventDefault();e.stopPropagation();var r=new Date,a=r.getTime(),s=n.buildMenu(t,a);$(".dropdown-menu").remove();if(i)if($("body.danmuscreen").length>0)$(i).append(s);else $("body").append(s);else $("body").append(s);n.context=true;$(".dropdown-context:not(.dropdown-context-sub)").hide();n.$dd=$("#dropdown-"+a);if("boolean"==typeof n.options.above&&n.options.above)n.$dd.addClass("dropdown-context-up").css({top:e.pageY-20-$("#dropdown-"+a).height(),left:e.pageX-13}).fadeIn(n.options.fadeSpeed);else if("string"==typeof n.options.above&&"auto"==n.options.above){n.$dd.removeClass("dropdown-context-up");var o=n.$dd.height()+12;if(e.pageY+o>$("html").height())n.$dd.addClass("dropdown-context-up").css({top:e.pageY-20-o,left:e.pageX-13}).fadeIn(n.options.fadeSpeed);else n.$dd.css({top:e.pageY+10,left:e.pageX-13}).fadeIn(n.options.fadeSpeed)}var l=n.$dd.width(),u=n.$dd.offset().left,d=l+u>window.innerWidth;if(d){n.$dd.addClass("dropdown-left");n.$dd.css({left:e.pageX+13-l})}})}},{key:"destroyContext",value:function f(e){$(document).off("contextmenu",e).off("click",".context-event")}}]);return t}(a.default);t.default=d},"7bf9d91448a84793ca3775e9bc4e1182":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default=function(e,t,i,n){if("string"==typeof e){n=i;i=t;t=e;e=window}if(void 0!==i){n=n||{};var r,a="";if(n.expires){if(n.expires.constructor==Date)r=n.expires;else{r=new Date;r.setTime(r.getTime()+1e3*60*60*24*n.expires)}a="; expires="+r.toGMTString()}var s=n.path?"; path="+n.path:"";var o=n.domain?"; domain="+n.domain:"";var l=n.secure?"; secure":"";e.document.cookie=[t,"=",encodeURIComponent(i),a,s,o,l].join("")}else{i=e.document.cookie.match(new RegExp("(?:\\s|^)"+t+"\\=([^;]*)"));return i?decodeURIComponent(i[1]):null}}},"01fef18383aa4f4395f04d510b906e1a":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=function T(e,t,i){if(null===e)e=Function.prototype;var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);if(null===r)return void 0;else return T(r,t,i)}else if("value"in n)return n.value;else{var a=n.get;if(void 0===a)return void 0;return a.call(i)}};i("733942574e18932f89a995de0331b992");var a=i("b6eee0295ec8c2daac7d0776d20c6296");var s=h(a);var o=i("7bf9d91448a84793ca3775e9bc4e1182");var l=h(o);var u=i("bb624fd1aacfe360af6c18e400248ad2");var d=h(u);var f=i("3bf2d4b8cbdbfaf37f07bfd2f6fe8cf4");var c=h(f);function h(e){return e&&e.__esModule?e:{"default":e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function m(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var y="DM_enable";var g=void 0;var _=25;var b=5;window.DMGlobalPause=false;var E=0;var k=function(e){m(t,e);function t(){p(this,t);return v(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"init",value:function i(e){var t=this.options.video?this.options.className:this.options.el;this.options.dotstu=[];this.adtime=[];this.options.adtimes=0;this.options.addtime=0;this.options.dotsid="";if(this.options.dots.length>=0)for(var i in this.options.dots){var n=this.options.dots[i].start;var r=this.options.dots[i].end;this.adtime[i]=r-n}g=$('<div class="yk-player-danmu" ></div>').appendTo($(t));this.loadarr();this.did||(this.did=0);this.update();this._updateTrack=this._updateTrack.bind(this);this._updateTrack();this.empty=this.empty.bind(this);this.onPlay=this.onPlay.bind(this);this.onPause=this.onPause.bind(this);this.onTimeupdate=this.onTimeupdate.bind(this);if(this.options.video)this.video=this.options.video;window.addEventListener("resize",this._updateTrack,false)}},{key:"loadarr",value:function a(){this.watchcif={};this.watchcif.transparent=this.localStorageItem("DM_transparent")||100;this.watchcif.density=this.localStorageItem("DM_density")||30;this.watchcif.speed=this.localStorageItem("DM_speed")||50;this.watchcif.size=this.localStorageItem("DM_size")||50;this.watchcif.screen=this.localStorageItem("DM_screen")||"ad";this.watchcif.screentxt=this.localStorageItem("DM_screentxt")||"";this.watchcif.pos=this.localStorageItem("DM_pos")||3;this.watchcif.color=this.localStorageItem("DM_color")||"ffffff";return this.watchcif}},{key:"events",value:function s(){return{}}},{key:"localStorageItem",value:function o(e,t){if("undefined"!=typeof t){localStorage.setItem(e,this.escapeHtml(t||""));this.loadarr()}else return this.escapeHtml(localStorage.getItem(e)||"")}},{key:"remove",value:function l(){if(this.model){this.model.destory();this.model=null;this._items=null}window.removeEventListener("resize",this._updateTrack);r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"update",value:function u(){var e=this;if(this.model){this.model.destory();this.model=null}this.model=new d.default(this.options);setTimeout(function(){e.enable()},500);this.empty();this._prevCheckTime=-1;this._count=0;this._items={};e.options.adtimes=0}},{key:"fetch",value:function f(e){this.model.getList(e)}},{key:"enable",value:function h(){this.emit("updatedmbtn",{hidden:"remove"});if(this._checkEnable(true))this.show();else this.emit("updatedmbtn",{hidden:"hidden"})}},{key:"disable",value:function b(){this.hide()}},{key:"show",value:function k(){this.isOpen=true;this.isnextPause=false;this.emit("updatedmbtn",{enable:"add"})}},{key:"hide",value:function T(){this.isOpen=false;this.emit("updatedmbtn",{enable:"remove"});this.empty()}},{key:"display",value:function A(e){var t=this;e=Math.floor(e);if(e<=0)return;var i=e;e-=t.options.adtimes;if(this.options.dots.length>=0)for(var n in this.options.dots){var r=this.options.dots[n].start;var a=this.options.dots[n].end;if(i>r&&i<=a){if(1!=t.options.dotstu[n])t.options.dotstu[n]=this.options.dots[n].IE;e=i-r;t.options.dotsid=this.options.dots[n].IE;break}else{t.options.dotstu[n]=2;t.options.dotsid=""}if(i>a){var s=0;for(var o=0;o<=n;o++)s+=parseInt(this.adtime[o]);t.options.adtimes=parseInt(s)}}this.options.addtime=e;if(""==this.options.dotsid&&this.options.dotstu.length>0)this.needFetchData=true;if(t.options.dotsid)this.needFetchData=true;if(this.needFetchData||0==e%60){if(this.needFetchData)this.needFetchData=false;this.fetch(e)}if(this._prevCheckTime==e)return;var l=this.model.getItemAt(e);if(l.length){l.forEach(function(e,t){this.addItem(e)},this);this._prevCheckTime=e}}},{key:"escapeHtml",value:function w(e){var t={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;"};return e?(e+"").replace(/([<>"'])/g,function(e){return t[e]}):e}},{key:"addItem",value:function x(e){if(this.isPause)return;var t=this.options.utag&&this.options.utag.indexOf(e.uid)>=0;if(2!=e.type&&this.watchcif.screentxt){var i=this.watchcif.screentxt.split("|")||[];var n=i.some(function(t){return t&&e.content.indexOf(t)>-1});if(n)return}if(e.status==-1&&e.uid!=Login.uid())return;var r=JSON.parse(e.propertis||"{}");var a=parseInt(r.pos)||3;var s=r.size||1;var o=r.alpha||1;var l=r.color?"#"+("000000"+r.color.toString(16)).substr(-6,6):"#ffffff";o=this.watchcif.transparent>=0?.01*this.watchcif.transparent:.01*o;var u=this.watchcif.size;var d=this.watchcif.density;if(u){s=parseInt((this.options.size||19)+Math.max(.1*u-5,-3));if(this.options.size>19)_=35;else _=30}var f=this._getTrack(a);if(2!=e.type&&f<0&&!t)return;if(f<0&&t)f=2;var h=this.did++;if(3!=a)if(void 0!=this._track[f]&&this._count<=this._track.length){this._track[f]++;this._count++}else return;if(2!=e.type&&this.watchcif.screen){if(this.watchcif.screen.indexOf("b")>=0)if("#ffffff"!=l)return;if(this.watchcif.screen.indexOf("c")>=0)if(4==a)return;if(this.watchcif.screen.indexOf("d")>=0)if(6==a)return}var p={uid:e.uid||0,dmid:e.id||0,track:f,did:h,top:f*_,text:this.escapeHtml(e.content)||"",size:s,pos:a,DMContainer:g,color:l,alpha:o,watchcif:this.watchcif,data:e,model:this.model,complete:this._complete.bind(this)};if(e.propertis){var v=JSON.parse(e.propertis);if(v.cosplayRoleId){p.cosplayRoleId=v.cosplayRoleId;p.cosdata=this.options.cosdata}}if(this.options.stardata&&this.options.stardata.length)p.stardata=this.options.stardata;p.options=this.options;E++;this._items[h]=new c.default(p)}},{key:"_getTrack",value:function S(e){var t=void 0;var i=this._track.length;switch(e){case 3:t=this.getposG();break;case 4:t=this._track.indexOf(0);break;case 6:t=this._track.lastIndexOf(0)}return t}},{key:"getposG",value:function L(){var e=this._track.length;for(var t=0;t<e;t++){var i=this.$el.find(".track"+t).last();if(i&&i.length>0){var n=this.widthDm-(i.offset().left+i.width()-this.leftDm);if(n>10)return t}else return t}return-1}},{key:"_updateScreen",value:function P(e){this.watchcif.screen=e;this._updateTrack()}},{key:"_updateTrack",value:function C(e){var t=this;var i=this;this._track=this._track||[];setTimeout(function(){var n=e&&"enterfullscreen"==e.type?window.screen.height:g.height();t.widthDm=g.width();t.leftDm=i.$el.find(".yk-player-danmu").offset().left;if(t.watchcif.screen.indexOf("a")>=0&&t.options.video)n=.8*n;t._track.length=Math.floor(n/_);var r=i.localStorageItem("DM_density")||30;t._track.length=Math.ceil(r/100*t._track.length);for(var a=0,s=t._track.length;a<s;a++)t._track[a]||(t._track[a]=0)},100)}},{key:"_complete",value:function D(e,t,i){var n=this;E--;if(3!=i){this._count--;this._track[t]&&this._track[t]--}if(this._items[e]){n._items[e].remove();n._items[e]=null}}},{key:"empty",value:function I(){for(var e in this._items){var t=this._items[e];if(t)this._complete(e,t.options.track)}this.needFetchData=true}},{key:"play",value:function R(){for(var e in this._items)this._items[e]&&this._items[e].play();this.isPause=DMGlobalPause=false}},{key:"pause",value:function O(){for(var e in this._items)this._items[e]&&this._items[e].pause();this.isPause=DMGlobalPause=true}},{key:"nextPause",value:function M(){this.isnextPause=true}},{key:"updatevid",value:function F(e){this.isnextPause=false;this.update()}},{key:"send",value:function N(e){e.preventDefault()}},{key:"onPlay",value:function U(){this.emit("onPlay",{onPlay:"play"});this.play()}},{key:"onPause",value:function B(){this.emit("onPlay",{onPlay:"pause"});this.pause()}},{key:"onTimeupdate",value:function G(){var e=this;if(this.isOpen&&!this.isnextPause){var t=e.video?e.video.getCurrentTime():e.options.electronTime;e.display(t)}}},{key:"_checkEnable",value:function j(e){var t=this.localStorageItem(y)||0;var i=!e;return 0===t?i:t>0?true:false}}]);return t}(s.default);t.default=k},d509db509209fc84717dbf310181a72e:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=i("b6eee0295ec8c2daac7d0776d20c6296");var a=l(r);var s=i("7bf9d91448a84793ca3775e9bc4e1182");var o=l(s);function l(e){return e&&e.__esModule?e:{"default":e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var c=null;var h=function(e){f(t,e);function t(){u(this,t);return d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}n(t,[{key:"isLogin",value:function i(){var e=decodeURIComponent(o.default("P_gck")||"").split("|")[1];return!!(o.default("yktk")||e&&"NA"!==e||0)}},{key:"uid",value:function r(){return(this.getUserInfo()||{}).userId||0}},{key:"getUserInfo",value:function a(){return this._userInfo}},{key:"login",value:function s(e){var t=this;$.isFunction(t.loginFunc)&&t.loginFunc(function(){t.emit("login:success")});return t}},{key:"init",value:function l(){this._loadUserInfo()}},{key:"_loadUserInfo",value:function c(){var e=this;if(!e.isLogin())return;var t="//cmstool.youku.com/cms/player/userinfo/user_info?";var i={specialTest:"test",client:"pc"};$.getJSON(t+"callback=?",i,function(t){if(0==t.error){e._userInfo=t.data;e.emit("login:after",[t.data])}})}}]);return t}(a.default);t.default=h},"578b21ab99af5c099147e0df5daf77a7":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});function i(e,t){var i=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(i>>16);return n<<16|65535&i}function n(e,t){return e<<t|e>>>32-t}function r(e,t,r,a,s,o){return i(n(i(i(t,e),i(a,o)),s),r)}function a(e,t,i,n,a,s,o){return r(t&i|~t&n,e,t,a,s,o)}function s(e,t,i,n,a,s,o){return r(t&n|i&~n,e,t,a,s,o)}function o(e,t,i,n,a,s,o){return r(t^i^n,e,t,a,s,o)}function l(e,t,i,n,a,s,o){return r(i^(t|~n),e,t,a,s,o)}function u(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;var n,r,u,d,f,c=1732584193,h=-271733879,p=-1732584194,v=271733878;for(n=0;n<e.length;n+=16)r=c,u=h,d=p,f=v,c=a(c,h,p,v,e[n],7,-680876936),v=a(v,c,h,p,e[n+1],12,-389564586),p=a(p,v,c,h,e[n+2],17,606105819),h=a(h,p,v,c,e[n+3],22,-1044525330),c=a(c,h,p,v,e[n+4],7,-176418897),v=a(v,c,h,p,e[n+5],12,1200080426),p=a(p,v,c,h,e[n+6],17,-1473231341),h=a(h,p,v,c,e[n+7],22,-45705983),c=a(c,h,p,v,e[n+8],7,1770035416),v=a(v,c,h,p,e[n+9],12,-1958414417),p=a(p,v,c,h,e[n+10],17,-42063),h=a(h,p,v,c,e[n+11],22,-1990404162),c=a(c,h,p,v,e[n+12],7,1804603682),v=a(v,c,h,p,e[n+13],12,-40341101),p=a(p,v,c,h,e[n+14],17,-1502002290),h=a(h,p,v,c,e[n+15],22,1236535329),c=s(c,h,p,v,e[n+1],5,-165796510),v=s(v,c,h,p,e[n+6],9,-1069501632),p=s(p,v,c,h,e[n+11],14,643717713),h=s(h,p,v,c,e[n],20,-373897302),c=s(c,h,p,v,e[n+5],5,-701558691),v=s(v,c,h,p,e[n+10],9,38016083),p=s(p,v,c,h,e[n+15],14,-660478335),h=s(h,p,v,c,e[n+4],20,-405537848),c=s(c,h,p,v,e[n+9],5,568446438),v=s(v,c,h,p,e[n+14],9,-1019803690),p=s(p,v,c,h,e[n+3],14,-187363961),h=s(h,p,v,c,e[n+8],20,1163531501),c=s(c,h,p,v,e[n+13],5,-1444681467),v=s(v,c,h,p,e[n+2],9,-51403784),p=s(p,v,c,h,e[n+7],14,1735328473),h=s(h,p,v,c,e[n+12],20,-1926607734),c=o(c,h,p,v,e[n+5],4,-378558),v=o(v,c,h,p,e[n+8],11,-2022574463),p=o(p,v,c,h,e[n+11],16,1839030562),h=o(h,p,v,c,e[n+14],23,-35309556),c=o(c,h,p,v,e[n+1],4,-1530992060),v=o(v,c,h,p,e[n+4],11,1272893353),p=o(p,v,c,h,e[n+7],16,-155497632),h=o(h,p,v,c,e[n+10],23,-1094730640),c=o(c,h,p,v,e[n+13],4,681279174),v=o(v,c,h,p,e[n],11,-358537222),p=o(p,v,c,h,e[n+3],16,-722521979),h=o(h,p,v,c,e[n+6],23,76029189),c=o(c,h,p,v,e[n+9],4,-640364487),v=o(v,c,h,p,e[n+12],11,-421815835),p=o(p,v,c,h,e[n+15],16,530742520),h=o(h,p,v,c,e[n+2],23,-995338651),c=l(c,h,p,v,e[n],6,-198630844),v=l(v,c,h,p,e[n+7],10,1126891415),p=l(p,v,c,h,e[n+14],15,-1416354905),h=l(h,p,v,c,e[n+5],21,-57434055),c=l(c,h,p,v,e[n+12],6,1700485571),v=l(v,c,h,p,e[n+3],10,-1894986606),p=l(p,v,c,h,e[n+10],15,-1051523),h=l(h,p,v,c,e[n+1],21,-2054922799),c=l(c,h,p,v,e[n+8],6,1873313359),v=l(v,c,h,p,e[n+15],10,-30611744),p=l(p,v,c,h,e[n+6],15,-1560198380),h=l(h,p,v,c,e[n+13],21,1309151649),c=l(c,h,p,v,e[n+4],6,-145523070),v=l(v,c,h,p,e[n+11],10,-1120210379),p=l(p,v,c,h,e[n+2],15,718787259),h=l(h,p,v,c,e[n+9],21,-343485551),c=i(c,r),h=i(h,u),p=i(p,d),v=i(v,f);
return[c,h,p,v]}function d(e){var t,i="";for(t=0;t<32*e.length;t+=8)i+=String.fromCharCode(255&e[t>>5]>>>t%32);return i}function f(e){var t,i=[];for(i[(e.length>>2)-1]=void 0,t=0;t<i.length;t+=1)i[t]=0;for(t=0;t<8*e.length;t+=8)i[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return i}function c(e){return d(u(f(e),8*e.length))}function h(e,t){var i,n,r=f(e),a=[],s=[];for(a[15]=s[15]=void 0,r.length>16&&(r=u(r,8*e.length)),i=0;16>i;i+=1)a[i]=909522486^r[i],s[i]=1549556828^r[i];return n=u(a.concat(f(t)),512+8*t.length),d(u(s.concat(n),640))}function p(e){var t,i,n="0123456789abcdef",r="";for(i=0;i<e.length;i+=1)t=e.charCodeAt(i),r+=n.charAt(15&t>>>4)+n.charAt(15&t);return r}function v(e){return unescape(encodeURIComponent(e))}function m(e){return c(v(e))}function y(e){return p(m(e))}function g(e,t){return h(v(e),v(t))}function _(e,t){return p(g(e,t))}function b(e,t,i){return t?i?g(t,e):_(t,e):i?m(e):y(e)}t.default=b},b6eee0295ec8c2daac7d0776d20c6296:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}return function(t,i,n){if(i)e(t.prototype,i);if(n)e(t,n);return t}}();var r=function y(e,t,i){if(null===e)e=Function.prototype;var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);if(null===r)return void 0;else return y(r,t,i)}else if("value"in n)return n.value;else{var a=n.get;if(void 0===a)return void 0;return a.call(i)}};var a=i("d8edebae62aa4fbb4521565645438d06");var s=o(a);function o(e){return e&&e.__esModule?e:{"default":e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t&&("object"===typeof t||"function"===typeof t)?t:e}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}var f=0;var c={};var h=["el","id","attrs","className","tagName","model"];var p=/^(\S+)\s*(.*)$/;var v=".delegateEvents";var m=function(e){d(t,e);function t(e){l(this,t);var i=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));i.tagName="div";i.clsid=f++;i._configure(e||{});i.props.apply(i,arguments);i._ensureElement();i.init.apply(i,arguments);i.delegateEvents();return i}n(t,[{key:"props",value:function i(){}},{key:"init",value:function a(){}},{key:"render",value:function s(){return this}},{key:"get",value:function o(e){return c[e]||null}},{key:"find",value:function m(e){return this.$el.find(e)}},{key:"remove",value:function y(){this.$el.remove();this.undelegateEvents();this.off()}},{key:"create",value:function g(e,t,i){var n=document.createElement(e);if(t)$(n).attr(t);if(i)$(n).html(i);return n}},{key:"setElement",value:function _(e,t){if(this.$el)this.undelegateEvents();this.$el=e instanceof $?e:$(e);this.el=this.$el[0];if(false!==t)this.delegateEvents();return this}},{key:"clearTimer",value:function b(){var e=arguments;for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n){clearTimeout(n);clearInterval(n)}}return null}},{key:"delegateEvents",value:function E(e){e=e||(this.events&&$.isFunction(this.events)?this.events():this.events);if(!e)return;this.undelegateEvents();for(var t in e){var i=e[t];if(!$.isFunction(i))i=this[e[t]];if(!i)continue;var n=t.match(p);var r=n[1],a=n[2];i=i.bind(this);r+=v+this.clsid;if(""===a)this.$el.on(r,i);else this.$el.on(r,a,i)}return this}},{key:"undelegateEvents",value:function k(e,t){this.$el.off(e+v+this.clsid,t);return this}},{key:"_configure",value:function T(e){if(this.options)e=$.extend({},this.options,e);for(var t=0,i=h.length;t<i;t++){var n=h[t];if(e[n])this[n]=e[n]}this.options=e}},{key:"_ensureElement",value:function A(){if(this.el||this.options.el)this.setElement(this.el||this.options.el,false);else{var e=this.attrs||{};if(this.id)e.id=this.id;if(this.className)e["class"]=this.className;this.setElement(this.create(this.tagName,e),false)}}},{key:"on",value:function w(e,i){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"on",this).call(this,e,i);return this}},{key:"once",value:function x(e,i){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"once",this).call(this,e,i);return this}},{key:"off",value:function S(e,t){if(t)this.removeListener(e,t);else if(e)this.removeAllListeners(e);else this.removeAllListeners();return this}}],[{key:"create",value:function L(e,t){if(e&&!c[e])return c[e]=new this(t);return new this(t)}},{key:"instance",value:function P(e,t){if(e&&!c[e])return c[e]=t;return c[e]||null}},{key:"destory",value:function C(e){if(e){if(c[e]){c[e].remove();delete c[e]}}else for(var t in c)arguments.callee(t)}}]);return t}(s.default);t.default=m},d8edebae62aa4fbb4521565645438d06:function(e,t){"use strict";var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function n(){this._events=this._events||{};this._maxListeners=this._maxListeners||void 0}e.exports=n;n.EventEmitter=n;n.prototype._events=void 0;n.prototype._maxListeners=void 0;n.defaultMaxListeners=10;n.prototype.setMaxListeners=function(e){if(!a(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");this._maxListeners=e;return this};n.prototype.emit=function(e){var t,i,n,a,l,u;if(!this._events)this._events={};if("error"===e)if(!this._events.error||s(this._events.error)&&!this._events.error.length){t=arguments[1];if(t instanceof Error)throw t;else{var d=new Error('Uncaught, unspecified "error" event. ('+t+")");d.context=t;throw d}}i=this._events[e];if(o(i))return false;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:a=Array.prototype.slice.call(arguments,1);i.apply(this,a)}else if(s(i)){a=Array.prototype.slice.call(arguments,1);u=i.slice();n=u.length;for(l=0;l<n;l++)u[l].apply(this,a)}return true};n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(!this._events)this._events={};if(this._events.newListener)this.emit("newListener",e,r(t.listener)?t.listener:t);if(!this._events[e])this._events[e]=t;else if(s(this._events[e]))this._events[e].push(t);else this._events[e]=[this._events[e],t];if(s(this._events[e])&&!this._events[e].warned){if(!o(this._maxListeners))i=this._maxListeners;else i=n.defaultMaxListeners;if(i&&i>0&&this._events[e].length>i){this._events[e].warned=true;console.error("(node) warning: possible EventEmitter memory "+"leak detected. %d listeners added. "+"Use emitter.setMaxListeners() to increase limit.",this._events[e].length);if("function"===typeof console.trace)console.trace()}}return this};n.prototype.on=n.prototype.addListener;n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var i=false;function n(){this.removeListener(e,n);if(!i){i=true;t.apply(this,arguments)}}n.listener=t;this.on(e,n);return this};n.prototype.removeListener=function(e,t){var i,n,a,o;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;i=this._events[e];a=i.length;n=-1;if(i===t||r(i.listener)&&i.listener===t){delete this._events[e];if(this._events.removeListener)this.emit("removeListener",e,t)}else if(s(i)){for(o=a;o-->0;)if(i[o]===t||i[o].listener&&i[o].listener===t){n=o;break}if(n<0)return this;if(1===i.length){i.length=0;delete this._events[e]}else i.splice(n,1);if(this._events.removeListener)this.emit("removeListener",e,t)}return this};n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener){if(0===arguments.length)this._events={};else if(this._events[e])delete this._events[e];return this}if(0===arguments.length){for(t in this._events){if("removeListener"===t)continue;this.removeAllListeners(t)}this.removeAllListeners("removeListener");this._events={};return this}i=this._events[e];if(r(i))this.removeListener(e,i);else if(i)while(i.length)this.removeListener(e,i[i.length-1]);delete this._events[e];return this};n.prototype.listeners=function(e){var t;if(!this._events||!this._events[e])t=[];else if(r(this._events[e]))t=[this._events[e]];else t=this._events[e].slice();return t};n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;else if(t)return t.length}return 0};n.listenerCount=function(e,t){return e.listenerCount(t)};function r(e){return"function"===typeof e}function a(e){return"number"===typeof e}function s(e){return"object"===("undefined"===typeof e?"undefined":i(e))&&null!==e}function o(e){return e===void 0}},"4233dd9f78eeb252a8732d5cde5a4db5":function(e,t){e.exports='<div class="yk-dmform {{? !it.uid }}yk-nodl{{?}} fix">\n     <div class="yk-dmtxtbox"><input class="yk-dmtxt" type="text" {{? !it.uid }} disabled {{?}} value="" placeholder="{{? it.uid }}来玩弹幕吧{{?}}" /></div>\n    <button class="yk_dmadd_button" type="button">发 送</button>\n    {{? !it.uid }}<div class="user-info"><a href="javascript:;">登录</a> 后来一发弹幕</div>{{?}}\n    <span class="yk_dmconfig yk_dmicon"></span>\n\n    <div class="yk_dmconfig_box">\n        <a href="javascript:;" class="yk_dmconfig_close yk_dmicon"></a>\n        <div class="yk_dmcfg_tab">\n            <ul class="fix ">\n                <li class="cur">发送设置</li>\n                <li>观看设置</li>\n                <li>屏蔽设置</li>\n            </ul>\n\n        </div>\n        <div class="yk_dmcfg_cont">\n            <div class="yk_dmcfgbox yk_dmcfg_fs">\n                <div class="cfgbx fix">\n                    <div class="cfglf">位置</div>\n                    <div class="cfgrt">\n                        <ul class="fix cfgwz">\n                            <li><a href="javascript:;" class="icongd {{=it.pos == 3 ? \'cur\' : \'\'}} " data-pos="3"><span class="yk_dmicon"></span>滚动</a></li>\n                            <li><a href="javascript:;" class="icondd {{=it.pos == 4 ? \'cur\' : \'\'}} " data-pos="4"><span class="yk_dmicon"></span>顶端</a></li>\n                            <li><a href="javascript:;" class="iconddd {{=it.pos == 6 ? \'cur\' : \'\'}} " data-pos="6"><span class="yk_dmicon"></span>底端</a></li>\n                        </ul>\n                    </div>\n                </div>\n                <div class="cfgbx fix">\n                    <div class="cfglf">\n                        颜色\n                    </div>\n                    <div class="cfgrt">\n                        <ul class="fix cfg_colorlist {{=it.isvip ? \'\':\'novip\' }}">\n                        <li>\n                            <a href="javascript:;" class="icon1 {{=it.color == \'ffffff\' ? \'cur\' : \'\'}}" data-color="ffffff"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon2 {{=it.color == \'FFF800\' ? \'cur\' : \'\'}}" data-color="FFF800 "></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon3 {{=it.color == \'FD6700\' ? \'cur\' : \'\'}}" data-color="FD6700"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon4 {{=it.color == \'FE0000\' ? \'cur\' : \'\'}}" data-color="FE0000"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon5 {{=it.color == \'F400A6\' ? \'cur\' : \'\'}}" data-color="F400A6"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon6 {{=it.color == \'FC6483\' ? \'cur\' : \'\'}}" data-color="FC6483"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon7 {{=it.color == \'E559BC\' ? \'cur\' : \'\'}}" data-color="E559BC"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon8 {{=it.color == \'9F8DE3\' ? \'cur\' : \'\'}}" data-color="9F8DE3"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon9 {{=it.color == \'2692FF\' ? \'cur\' : \'\'}}" data-color="2692FF"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon10 {{=it.color == \'59C1FE\' ? \'cur\' : \'\'}}" data-color="59C1FE"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon11 {{=it.color == \'3EC1A9\' ? \'cur\' : \'\'}}" data-color="3EC1A9"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon12 {{=it.color == \'7ED321\' ? \'cur\' : \'\'}}" data-color="7ED321"></a>\n                        </li>\n                        <li>\n                            <a href="javascript:;" class="icon13 {{=it.color == \'3E882F\' ? \'cur\' : \'\'}}" data-color="3E882F"></a>\n                        </li>\n                        <li><a href="javascript:;" class="icon14 {{=it.color == \'C1A161\' ? \'cur\' : \'\'}}" data-color="C1A161"></a></li>\n                        \n                        </ul>\n                    </div>\n                </div>\n                {{? !it.isvip }}\n                  <div class="products"><span>VIP</span> 会员专属颜色<a href="https://pay.youku.com/buy/products.html" class="" target="_blank">开通会员</a>即可使用\n                  </div>\n                {{?}}\n            </div>\n            <div class="yk_dmcfgbox  yk_dmcfg_gk " style="display: none;">\n                \n                <div class="cfgbx fix">\n                    <div class="cfglf">透明度<span style="opacity: 0;">不</span></div>\n                    <div class="cfgrt" data-watch="transparent" >\n                        <span class="dmgk_bg">\n                            <span class="dmgk_jd" style="width: {{=it.transparent}}px;"></span>\n                            <span class="dmgk_icon" style="left: {{=it.transparent-5}}px;"></span>\n                        </span>\n                        <span class="dmgk_b">{{=it.transparent}}%</span>\n                    </div>\n                </div>\n                <div class="cfgbx fix">\n                    <div class="cfglf">\n                        显示区域\n                    </div>\n                    <div class="cfgrt" data-watch="density" >\n                            <span class="dmgk_bg">\n                            <span class="dmgk_jd" style="width: {{=parseInt(it.density)}}px;"></span>\n                            <span class="dmgk_icon" style="left: {{=parseInt(it.density)-5}}px;"></span>\n                        </span>\n                        <span class="dmgk_b">{{=parseInt(it.density) == 100 ? \'无限制\' : parseInt(it.density)+\'%\'}}</span>\n                    </div>\n                </div>\n                <div class="cfgbx fix">\n                    <div class="cfglf">\n                        弹幕速度\n                    </div>\n                    <div class="cfgrt"  data-watch="speed" >\n                            <span class="dmgk_bg">\n                            <span class="dmgk_jd" style="width: {{=it.speed}}px;"></span>\n                            <span class="dmgk_icon" style="left: {{=it.speed-5}}px;"></span>\n                        </span>\n                        <span class="dmgk_b">{{=it.speed * 2}}%</span>\n                    </div>\n                </div>\n                <div class="cfgbx fix">\n                    <div class="cfglf">\n                        字号大小\n                    </div>\n                    <div class="cfgrt"  data-watch="size" >\n                            <span class="dmgk_bg">\n                            <span class="dmgk_jd" style="width: {{=it.size}}px;"></span>\n                            <span class="dmgk_icon" style="left: {{=it.size-5}}px;"></span>\n                        </span>\n                        <span class="dmgk_b">{{=it.size * 2}}%</span>\n                    </div>\n                </div>\n                <div class="cfgbx fix">\n                    <div class="cfglf">\n                        &nbsp;\n                    </div>\n                    <div class="cfgrt">\n                        <div class="dmgk_btnbox">\n                                <a href="javascript:;" class="dmgk_btn">恢复默认</a>\n                            </div>\n                    </div>\n                </div>\n            </div>\n            \n                <div class="yk_dmcfgbox yk_dmcfg_pb" style="display: none;">\n                <div class="cfgbx fix">\n                    <div class="cfgrt">\n                        <ul class="fix cfgwz">\n                            <li><a href="javascript:;" class="iconpbzm  {{=it.screen.indexOf(\'a\')>=0 ? \'cur\' : \'\'}}" data-screen="a"><span class="yk_dmicon"></span>字幕区</a></li>\n                            <li><a href="javascript:;" class="iconpbcs  {{=it.screen.indexOf(\'b\')>=0 ? \'cur\' : \'\'}}" data-screen="b"><span class="yk_dmicon"></span>彩色</a></li>\n                            <li><a href="javascript:;" class="iconpbdd  {{=it.screen.indexOf(\'c\')>=0 ? \'cur\' : \'\'}}" data-screen="c"><span class="yk_dmicon"></span>顶端</a></li>\n                            <li><a href="javascript:;" class="iconpbddd  {{=it.screen.indexOf(\'d\')>=0 ? \'cur\' : \'\'}}" data-screen="d"><span class="yk_dmicon"></span>底端</a></li>\n                        </ul>\n\n                        <div class="pb_txtbox yk_dmicon1">\n                            <input value="" type="text" placeholder="输入屏蔽词，按回车添加" >\n                        </div>\n                        <div class="pb_listbox">\n                            <ul class="pb_list fix">\n                                {{=it.htmllist}}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>'},"6875c7043685ef330c4d70f1a825e804":function(e,t){e.exports='<div class="yk_dmcos_icon" style="background: url({{=it.tkinfo.cosicon}}) no-repeat;background-size: 24px;"></div>\n<div class="yk_dmcos_box">\n	<div class="yk_dmcos_b">\n		<a href="javascript:;" class="yk_dmcos_close yk_dmicon"></a>\n		<div class="cos_tit">\n		{{= it.tkinfo.title ?it.tkinfo.title: \'这次要冒充谁呢๑乛◡乛๑\'}}\n		</div>\n		<div class="cos_box">\n			<ul class="fix">\n			{{ for (var key in it.items) { }} \n				<li cosid="{{=it.items[key].id}}" roles="{{=it.items[key].roles}}" color="{{=it.items[key].iteminfo.color}}" class="{{? it.items[key].roles.indexOf(101)>=0 }}vipactive {{? !it.isvip}}novip{{?}}{{?}}">\n					<img src="{{= it.items[key].iteminfo.imgFounder}}">\n					<div class="cos_txt" title="{{= it.items[key].name}}">{{= it.items[key].name}}</div>\n					<div class="cos_suo yk_dmicon1"></div>\n\n					<a class="cos_p" target="_blank" href="{{? it.items[key].roles.indexOf(101)>=0 }}https://pay.youku.com/buy/products.html{{??}} {{=it.items[key].iteminfo.tips.linkUrl}} {{?}}" >查看详情</a>\n					<div class="cos_vip">{{? it.items[key].iteminfo.tips.icon}}<img src="{{= it.items[key].iteminfo.tips.icon}}">{{?}}</div>\n				</li>\n			{{ } }}\n			\n			</ul>\n		</div>\n			{{? it.items.length >8 }}\n			<div class="cos_slide">\n				<a href="javascript:;" class="switch-prev">&lt;</a>\n				{{? Math.ceil(it.items.length/8)>=1}} \n				<a href="javascript:;" class="switch-num cur">1</a>\n				{{?}}\n				{{? Math.ceil(it.items.length/8)>=2}} \n				<a href="javascript:;" class="switch-num ">2</a>\n				{{?}}\n				{{? Math.ceil(it.items.length/8)>=3}} \n				<a href="javascript:;" class="switch-num ">3</a>\n				{{?}}\n				<a href="javascript:;" class="switch-next">&gt;</a>\n			</div>\n			{{? }}\n	</div>\n</div>'},f58e24d3705adc6cdedbfcba941f4ce9:function(e,t){e.exports='<div class="yk_dmstar">\n	<div class="yk_dmstarbox fix">\n		<div class="yk_dmstarleft yk_dmicon">\n\n		</div>\n		<div class="yk_dmstarright">\n			<div class="yk_dmstartxt"><i></i>{{=it.name}}</div>\n		</div>\n	</div>\n</div>\n'},ee8f79906381d38a544483557c78b633:function(e,t){e.exports="<style >\n    \n    .yk-player-danmu {pointer-events:none;z-index:111;\n	width: 100%; height: 100%; position: absolute; left: 0; top: 0; overflow: hidden;\n    font: 13px/20px \"Microsoft YaHei\",PingFangSC-Regular,Lyh-Regular,helvetica,arial, sans-serif;\n    }\n    .yk-player-danmu  .starimg{\n        height: 58px;\n        width: 58px;\n        float: left;\n        margin-right: 5px;\n        border-radius: 30px;\n        margin-top: 1px;\n    }\n     .yk-player-danmu .cosimg{height: 25px; width: 25px;float: left;border-radius: 12px;margin-right:5px;}\n     .yk-player-danmu .starbox{\n         display: inline-block;\n        border-radius: 40px;\n        background-color: #000;\n        opacity: 1;\n        padding: 5px 68px 5px 6px;\n        position: relative;\n        pointer-events: all;\n        height: 60px;\n        }\n    .yk-player-danmu .dmbox{pointer-events:all;position: relative;}\n    .yk-player-danmu .starbox .dm-m{border:0 none;}\n     .yk-player-danmu .startxt{color:#fff;font-size:16px;    margin-bottom: 6px;}\n    .yk-player-danmu .startxts{font-size:24px;}\n     .yk-player-danmu .stardm{overflow: hidden;}\n     .yk-player-danmu .dmoption{ position: absolute;\n    background-color: #000;\n    width: 100%;\n    height: 100%;\n    opacity: 0.5;\n    border-radius: 28px;}\n    .yk-player-danmu .jubao{position:absolute;left:48%;top:48%;background:#000;border-radius:3px;padding:10px;z-index:9999999;color:#fff;}\n	 .yk-player-danmu .dm-container { width: 100%; height: 100%; overflow: hidden; position: absolute; }\n	 .yk-player-danmu .dm { z-index: 105;display: block; width: 100%;  font-size: 19px; font-weight: 600;  color: #fff;  position: absolute;cursor: pointer;}\n     .danmuscreen .dm{font-size: 24px; }\n	 .yk-player-danmu .dm span {display:inline-block;line-height: 25px; white-space: nowrap;text-shadow: 0 0 1px #000;}\n	 .yk-player-danmu .dm-m { width: auto; border: 1px solid #f80; padding: 0; }\n     .yk-player-danmu input{opacity: 0;width: 5px;}\n	 .yk-player-danmu .dm-t, \n	 .yk-player-danmu .dm-b { text-align: center; }\n	 .yk-player-danmu .dm-t span, \n	 .yk-player-danmu .dm-b span { display: inline-block; width: auto; margin: 0 auto; white-space: nowrap; }\n	 .yk-player-danmu .dm-s { font-size: 0.8em; line-height: 0.8em; }\n	 .yk-player-danmu .dm-l { font-size: 1.2em; line-height: 1.2em; }\n    .yk_dmswitch_box{\n       position:relative; top: 7px; display: inline-block;\n    }\n    .yk_dmswitch_box .yk_dm_button{position: relative;\n        display: inline-block;width: 36px;height: 22px;line-height:22px;background: #666666;;border-radius: 11px;color: #e5e5e5;font-size: 12px;\n    }\n    .yk_dmswitch_box .yk_dm_button.hidden{display: none;}\n    .yk_dmswitch_box .yk_dm_button span{\n        position: absolute;\n        left: 0px;\n        top:0px;\n        line-height: 20px;\n        text-align: center;\n        width: 20px;\n        height: 20px;\n        color: #666;\n        background: #fff;\n        display: inline-block;\n        border-radius: 11px;\n        font-size:12px;\n        border:1px solid #666;\n        font-weight: 400; \n        font: 12px/20px \"Microsoft YaHei\",PingFangSC-Regular,Lyh-Regular,helvetica,arial, sans-serif;\n    }\n    .yk_dmswitch_box .enable{\n        background: #2692FF;\n    }\n    .yk_dmswitch_box .enable span{\n        left: auto;\n        right: 0px;\n        color: #2692FF;\n        border:1px solid #2692FF;\n    }\n\n    .yk-danmufrombox .yk-dmform{\n        position: relative;\n        padding: 8px 8px 8px 15px;\n        display: none;\n        background:#000;\n    }\n    .yk-dmform{font: 13px/20px \"Microsoft YaHei\",PingFangSC-Regular,Lyh-Regular,helvetica,arial, sans-serif !important;}\n    .yk-dmform input, .yk-dmform button {\n        -webkit-appearance: none;\n        -webkit-border-radius: 0;\n        outline: 0;\n    }\n    .yk-dmform .user-info{\n        position: absolute;\n        top: 17px;\n        left: 30px;\n        font-size: 12px;\n        color: #f2f2f2;\n    }\n     .yk-dmform .user-info a{\n         color:#2692FF;\n         font-size:12px;\n     }\n\n    .yk-dmform .yk-dmtxtbox{\n        display: inline-block;\n        position: relative;\n    }\n    .yk-dmform .yk-dmtxt{\n        border:1px solid #000;\n        width:80%;\n        padding-left:25px;\n        border-radius: 20px;\n        height: 33px;\n        \n        color: #f2f2f2;\n        background: #333;\n    }\n    .w1080 .yk-dmform .yk-dmtxt{\n        width:570px;\n    }\n    .w1300 .yk-dmform .yk-dmtxt{\n        width:790px;\n    }\n    \n    \n\n    .yk-dmform .yk_dmadd_button{\n        width:68px;\n        border-radius: 20px;\n        height: 33px;\n        border:1px solid #2692FF;\n        background: #333;\n        color: #2692FF;\n        cursor: pointer;\n        font-size:14px;\n    }\n    .yk-dmform .yk_dmconfig{\n        position: absolute;\n        right: 15px;\n        top: 15px;\n        color: #fff;\n        cursor: pointer;\n    }\n    .yk-dmform  .yk_dmadd_button:hover{\n        background: #4381a6;\n        border:1px solid #4381a6;\n    }\n    /*弹幕发送状态 倒计时*/\n    .yk-dmform.yk-djs .yk_dmadd_button, .yk-dmform.yk-djs .yk_dmadd_button:hover,.yk-dmform.yk-errtxt .yk_dmadd_button:hover,.yk-dmform.yk-errtxt .yk_dmadd_button{\n         background: #060606;\n        border:1px solid #333;\n        color: #999;\n    }\n    \n    /*弹幕发送状态 未登录*/\n   .yk-dmform.yk-djs .yk-dmtxt, .yk-dmform.yk-nodl .yk-dmtxt,.yk-dmform.yk-nodl .yk-dmtxt:focus{\n        border:1px solid #333;\n        background: #333;\n    }\n    .yk-dmform.yk-nodl .yk_dmadd_button, .yk-dmform.yk-nodl .yk_dmadd_button:hover{\n        background: #060606;\n        border:1px solid #525252;\n        color: #525252;\n    }\n    /*弹幕发送状态 无内容*/\n    .yk-dmform.yk-errtxt .yk-dmtxt{\n         background: #36211e;\n        color: #d06255;\n        border: 1px solid #722014;\n    }\n    /*弹幕配置-发送*/\n    li {list-style: none;}\n    a {text-decoration: none;}\n    .clearfix:after,.fix:after {\n        content: \".\";\n        display: block;\n        height: 0;\n        clear: both;\n        visibility: hidden\n    }\n    .clearfix,.fix {min-height: 1%}\n    *html .clearfix,.fix {zoom:1}\n    .fix {display: block}\n    .dmnonex{display: none;}\n    .dmnone{ display: none;}\n    .dmnonei{ display: none !important;}\n    .yk_dmicon{\n         background:url(http://js.ykimg.com/youku/dist/img/ykdanmu/dmGroup_5b8eac2.png) no-repeat;\n        background-size:124px;\n    }\n    .yk_dmicon1{\n         background:url(http://js.ykimg.com/youku/dist/img/ykdanmu/dmGroup_5b8eac1.png) no-repeat;\n    }\n    .yk-dmform .yk_dmconfig_box{\n        width: 270px;\n        height: 290px;\n        background: #333;\n        position: absolute;\n        bottom: 54px;\n        right: 1px;\n        z-index: 12000;\n        border-radius: 3px;\n        display: none;\n    }\n    .yk-dmform .yk_dmconfig{\n       width: 32px;height: 26px;display: inline-block;\n        background-position: -81px -17px;\n    } \n    .yk-dmform .yk_dmconfig_close{\n         width: 15px;height: 15px;display: inline-block;\n         background-position: -7px -92px;\n         position: absolute;\n         right: 5px;\n         top:5px;\n    }\n     .yk-dmform .yk_dmcfg_tab ul{\n        border-bottom: 1px solid #393939;\n     }\n    .yk-dmform .yk_dmcfg_tab li{\n        color: #929292;\n        font-size: 14px;\n        float: left;\n        margin-left: 25px;\n        text-align: center;\n        height: 50px;\n        line-height: 50px;\n        margin-bottom: -1px;\n        cursor: pointer;\n    }\n     .yk-dmform .yk_dmcfg_tab>ul li.cur{\n        color: #fff;\n        border-bottom: 1px solid #2692FF;\n    }\n    .yk-dmform .yk_dmcfgbox{\n       font-size: 14px; letter-spacing:0px;padding:0px 20px;color: #929292;display: block;\n    }\n    .yk-dmform .yk_dmcfg_fs{\n        display: block;\n    }\n    .yk-dmform .yk_dmcfg_gk{\n       font-size: 12px;\n       -moz-user-select: none; /*火狐*/\n        -webkit-user-select: none; /*webkit浏览器*/\n        -ms-user-select: none; /*IE10*/\n        -khtml-user-select: none; /*早期浏览器*/\n        user-select: none;\n    }\n    .yk-dmform .cfglf{float: left;line-height: 35px;}\n    .yk-dmform .cfgrt{float: left;padding-left: 5px;}\n    .yk-dmform .cfgbx{margin-top: 15px;height: 60px;}\n    .yk-dmform .cfgrt .cfgwz li{float: left;}\n    .yk-dmform .cfgrt .cfgwz li a{\n        display: inline-block;\n        width: 50px;\n        color: #929292;\n        margin-left: 5px;\n        text-align: center;\n    }\n     .yk-dmform .cfgrt .cfgwz li span{\n         display:inline-block;\n         height:40px;\n         width:100%;\n     }\n     .yk-dmform .cfgrt .cfgwz li .icongd span{\n        background-position: 2px -264px;\n     }\n     .yk-dmform .cfgrt .cfgwz li .icongd.cur span{\n        background-position: -56px -264px;\n        color: #2692FF;\n     }\n     .yk-dmform .cfgrt .cfgwz li .icondd span{\n        background-position: 2px -212px\n     }\n     .yk-dmform .cfgrt .cfgwz li .icondd.cur span{\n        background-position: -56px -212px;\n        color: #2692FF;\n     }\n     .yk-dmform .cfgrt .cfgwz li .iconddd span{\n        background-position: 2px -158px;\n     }\n     .yk-dmform .cfgrt .cfgwz li .iconddd.cur span{\n        background-position: -56px -158px;\n        color: #2692FF;\n     }\n     .yk-dmform  .cfg_colorlist.noclick a{opacity:0.3;}\n     .yk-dmform  .cfg_colorlist.novip a{opacity:0.3;}\n     .yk-dmform  .cfg_colorlist.novip a.icon1{opacity:1;}\n    .yk-dmform  .cfg_colorlist li:hover a,.yk-dmform  .cfg_colorlist li a.cur{\n        border: 1px solid #fff;\n    } \n    .yk-dmform  .cfg_colorlist li:hover .icon1,.yk-dmform  .cfg_colorlist li .icon1.cur{\n        border: 1px solid #37a5e2;\n    }\n\n    .yk-dmform  .cfg_colorlist{width: 150px;margin-left: 6px;}\n    .yk-dmform  .cfg_colorlist li {float: left;}\n    .yk-dmform  .cfg_colorlist li a{\n        width: 14px;height: 14px;border-radius: 10px;display: inline-block;margin-right: 5px;\n        border: 1px solid #333;\n    }\n\n     .yk-dmform .cfg_colorlist li .icon1{background: #fff}\n     .yk-dmform .cfg_colorlist li .icon2{background: #FFF800}\n     .yk-dmform .cfg_colorlist li .icon3{background: #FD6700}\n     .yk-dmform .cfg_colorlist li .icon4{background: #FE0000}\n     .yk-dmform .cfg_colorlist li .icon5{background: #F400A6}\n     .yk-dmform .cfg_colorlist li .icon6{background: #FC6483}\n     .yk-dmform .cfg_colorlist li .icon7{background: #E559BC}\n     .yk-dmform .cfg_colorlist li .icon8{background: #9F8DE3}\n     .yk-dmform .cfg_colorlist li .icon9{background: #2692FF}\n     .yk-dmform .cfg_colorlist li .icon10{background: #59C1FE}\n     .yk-dmform .cfg_colorlist li .icon11{background: #3EC1A9}\n     .yk-dmform .cfg_colorlist li .icon12{background: #7ED321}\n     .yk-dmform .cfg_colorlist li .icon13{background: #3E882F}\n     .yk-dmform .cfg_colorlist li .icon14{background: #C1A161}\n     .yk-dmform .cfg_colorlist li .icon15{background: #3dc1a9}\n     .yk-dmform .cfg_colorlist li .icon16{background: #5570bd}\n     .yk-dmform .cfg_colorlist li .icon17{background: #9f8de3}\n     .yk-dmform .cfg_colorlist li .icon18{background: #C1A161}\n     .yk-dmform .yk_dmcfg_fs .products{font-size:12px;text-align:center;}\n     .yk-dmform .yk_dmcfg_fs .products a {color:#C1A161;}\n     .yk-dmform .yk_dmcfg_fs .products span{font-size:14px;font-weight:bold;font-family: serif;}\n    /*弹幕配置-观看*/\n    .yk-dmform .yk_dmcfg_gk .cfgbx {\n        margin-top: 8px;\n        height: auto;\n    }\n    .yk-dmform .yk_dmcfg_gk .cfgrt{line-height: 28px;}\n    .yk-dmform .yk_dmcfg_gk .cfglf {\n        line-height: 32px;\n    }\n     .yk-dmform .yk_dmcfgbox .dmgk_bg{\n         background: #999;\n         width: 100px;\n         display: inline-block;\n         height: 4px;\n         border-radius: 4px;\n         margin: 10px 0 0 5px;\n         position: relative;\n     }\n     .yk-dmform .yk_dmcfgbox .dmgk_jd{\n         background: #2692FF;\n         width: 60%;\n         display: inline-block;\n         height: 4px;\n         border-radius: 4px;\n         position: absolute;\n     }\n     .yk-dmform .yk_dmcfgbox .dmgk_icon{\n         background: #fff;\n         width: 18px;\n         display: inline-block;\n         height: 18px;\n         position: absolute;\n         left: 50px;\n         border-radius: 10px;\n         top: -7px;\n         cursor: pointer;\n     }\n      .yk-dmform .yk_dmcfgbox .dmgk_b{\n          margin-left: 15px;\n      }\n      .yk-dmform .dmgk_btnbox{\n          width: 200px;\n          text-align: center;\n          margin-top: 20px;\n      }\n       .yk-dmform .dmgk_btn{\n         background: #6e6e6e;\n         display: inline-block;\n         border-radius: 5px;\n         padding: 0px 10px;\n         color: #fff;\n         line-height: 28px\n        }\n    /*屏蔽设置*/\n    .yk-dmform .yk_dmcfg_pb .cfgrt{padding-left: 0px;}\n    .yk-dmform .yk_dmcfg_pb .cfgwz li a{margin-left:2px;margin-right:5px;}\n    .yk-dmform .cfgrt .cfgwz li .iconpbzm span{background-position: 1px -311px}\n    .yk-dmform .cfgrt .cfgwz li .iconpbzm.cur span{background-position: -56px -311px}\n    .yk-dmform .cfgrt .cfgwz li .iconpbcs span{background-position: 1px -398px}\n    .yk-dmform .cfgrt .cfgwz li .iconpbcs.cur span{background-position: -56px -398px}\n    .yk-dmform .cfgrt .cfgwz li .iconpbdd span{background-position: 1px -354px}\n    .yk-dmform .cfgrt .cfgwz li .iconpbdd.cur span{background-position: -56px -354px}\n    .yk-dmform .cfgrt .cfgwz li .iconpbddd span{background-position: 1px -445px}\n    .yk-dmform .cfgrt .cfgwz li .iconpbddd.cur span{background-position: -56px -445px}\n    .yk-dmform .pb_txtbox {\n        margin-top: 20px;\n        border: 1px solid #999;\n        padding: 2px 5px 2px 30px;\n        border-radius: 3px; background-position: 3px -577px;\n        height:18px;\n    }\n    .yk-dmform .pb_txtbox input{\n        background: #333;\n        border: 0 none;\n        color: #929292;\n        width: 97%;\n        border-left: 1px solid #999; \n        padding-left:10px; \n    }\n    \n    .yk-dmform .pb_listbox {\n        position:relative;\n        overflow-y:auto;\n        max-height:85px;\n    }\n    .yk-dmform .pb_list {\n			margin-top: 10px;\n			padding: 0;\n		}\n\n		.yk-dmform .pb_list li {\n			float: left;\n			border-bottom: 1px solid #333;\n			border-right: 1px solid #333;\n			background: #262626;\n			color: #929292;\n			font-size: 12px;\n			padding: 0 5px;\n			display: flex;\n		}\n		.yk-dmform .pb_list li:after{\n			content: 'x';\n			display: inline-block;\n			margin-left: 5px;\n		}\n		.yk-dmform .pb_list li:hover {\n			background: #333;\n			cursor: pointer;\n		}\n     \n     /*star*/\n     .yk_dmstar{\n        position:absolute;\n        top:50px;\n        right:-100px;\n        z-index:12000;\n     }\n     .yk_dmstar.cur .yk_dmicon{\n        background-color:#fb4c15;\n\n     }\n     .yk_dmstar .yk_dmstarbox {width:170px;}\n    .yk_dmstar .yk_dmstarleft{\n        background-color:#2692FF;\n        width:70px;\n        height:55px;\n        background-position:-60px -55px;\n        float:left;\n        border-radius: 5px 0 0 5px;\n        cursor: pointer;\n    }\n    .yk_dmstar .yk_dmstarright{\n        background-color:#000;\n        width:100px;\n        height:55px;\n        float:left;\n        color:#2692FF;\n        font-size:12px;\n    }\n    .yk_dmstar .yk_dmstarright .yk_dmstartxt{\n        margin: 10px 5px;\n        height:35px;\n        overflow:hidden;\n    }\n   .yk_dmstar .yk_dmstarright .yk_dmstartxt.bgein i{\n        display:inline-block;\n        width:10px;\n        height:10px;\n        margin-right:5px;\n        background-color:#1acf5e;\n        border-radius:5px;\n   }\n   .yk_dmstar .yk_dmstarright .yk_dmstartxt.bgein{\n        color:#fff;\n\n   }\n   .yk_dmstar .yk_dmstarright .yk_dmstartxt.over{\n        color:#929292;\n       \n   }\n   .yk_dmstar .yk_dmstarright .yk_dmstartxt.over i{\n        display:inline-block;\n        width:10px;\n        height:10px;\n        margin-right:5px;\n        background-color:#929292;\n        border-radius:5px;\n   }\n    \n     /*cos*/\n     .yk_dmcos_icon{\n        position: absolute;\n        right: 8px;\n        background: #fff;\n        border-radius: 10px;\n        width: 24px;\n        height: 24px;\n        top: 5px;\n        cursor: pointer;\n     }\n     .yk_dmcos_box{\n        position: absolute;\n        width:270px;\n        max-height:290px;\n        border-radius: 3px;\n        background: #333;\n        bottom: 44px;\n        right: -50px;\n        display:none;\n        z-index: 12000;\n        \n     }\n     .yk_dmcos_box .yk_dmcos_b{padding:10px 20px;}\n    .yk_dmcos_box  .yk_dmcos_close{\n         width: 15px;height: 15px;display: inline-block;\n         background-position: -7px -92px;\n         position: absolute;\n         right: 5px;\n         top:5px;\n    }\n    .yk_dmcos_box .cos_tit{\n        color:#eee;\n        font-size:12px;\n    }\n    .yk_dmcos_box .cos_box{\n        position:relative;\n        overflow:hidden;\n        width:240px;\n        max-height:220px;\n    }\n    .yk_dmcos_box .cos_box li{\n        float:left;\n        margin-right:10px;\n        width:50px;\n        height:95px;\n        margin-top:15px;\n        text-align:center;\n        cursor: pointer;\n        position: relative;\n    }\n    .yk_dmcos_box .cos_box li>img{\n        width:50px;\n        height:60px;\n        border-radius: 5px;\n    }\n    .yk_dmcos_box .cos_box li .cos_vip img{\n         width:100%;\n        height:100%;\n    }\n    \n    .yk_dmcos_box .cos_box li .cos_txt{\n        font-size:10px;\n        color:#828282;\n        width:50px;\n        height: 32px;    \n        text-overflow: ellipsis;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        line-height: 16px;\n        overflow:hidden;\n        margin-top: 5px;\n    }\n     .yk_dmcos_box .cos_box li.active .cos_suo,.yk_dmcos_box .cos_box li.novip .cos_suo, .yk_dmcos_box .cos_box li.vipactive .cos_vip, .yk_dmcos_box .cos_box li.viphover .cos_p{\n          display:block;\n     }\n     .yk_dmcos_box .cos_box li.viphover .cos_suo{\n          display:none;\n     }\n\n     .yk_dmcos_box .cos_box li .cos_p{\n        width:100%;\n        height:60px;\n        background-color:#2692FF;\n        color:#fff;\n        position:absolute;\n        top:0;\n        left:0;\n        opacity:0.9;\n        line-height:60px;\n        display:none;\n        font-size:11px;\n        border-radius:5px;\n     }\n    .yk_dmcos_box .cos_box li .cos_suo{\n        width:100%;\n        height:60px;\n        position:absolute;\n        top:0;\n        background-color:#000;\n        opacity:0.6;\n        background-position:14px -607px;\n        display:none;\n\n        border-radius:5px;\n    }\n    .yk_dmcos_box .cos_box li .cos_vip{\n        width:20px;\n        height:20px;\n        position:absolute;\n        top:-6px;\n        right:-6px;\n        background-position:-85px -584px;\n        display:none;\n    }\n    .yk_dmcos_box .cos_slide{\n        margin-top:5px;\n        text-align:center;\n    }\n    .yk_dmcos_box .cos_slide a{\n        margin:0 3px;\n        padding:0 3px;\n        color:#979797;\n        display:inline-block;\n        font-size:12px;\n    }\n    .yk_dmcos_box .cos_slide a.cur{\n        color:#2692FF;\n    }\n\n    /*弹幕控制开关*/\n    .danmuon .yk-dmform{display: block;}\n    .danmuon .yk-dmform .dmnone{display: none;}\n    .danmuoff .yk-dmform{display: none;}\n    /*全屏*/\n    .danmuscreen .yk-dmform{\n        position: absolute;\n        bottom: -5px;\n        z-index: 10000000000;\n        left: 20%;\n        width: 50%;\n        min-width: 660px;\n        background:none;\n    }\n    .danmuscreen .yk-dmform .yk-dmtxtbox{\n        width:80%;\n        \n        }\n    .danmuscreen .yk-dmform .yk-dmtxt{width:95%}\n    .danmuscreen .yk_dmconfig{\n        display: none;\n    }\n   .danmuscreen  .yk_dmcos_icon{\n       right:18px;\n   }\n    .danmuscreen .yk-dmform.dmnone{\n        display:none;\n    }\n\n/*赞👍*/\n\n.yk-player-danmu .dmzanstar\n{\nwidth:36px;\nheight:30px;\nfont-size:35px;\nposition:absolute;\ncolor:#929292;\ntop: 24px;\nright: 22px;\nbackground:url(http://js.ykimg.com/youku/dist/img/ykdanmu/dm_zan.png) no-repeat 0 -193px;\n}\n.yk-player-danmu .dmzanstarcur{background-position: 0 -147px; z-index:121;}\n.yk-player-danmu .dmzanstarcur>span{\n       width: 40px;\n       color:#fff;\n       font-size:10px;\n        height: 34px;\n        position: absolute;\n        top: -2px;\n        left: -2px;\n        text-align:right;\n        background: url(http://js.ykimg.com/youku/dist/img/ykdanmu/dm_zan.png) no-repeat 0px -167px;\n        background-size: 42px;\n    }\n.yk-player-danmu .dmzanbox{\n    position: absolute;\n    width: 100%;\n    text-align: center;\n    height: 25px;\n    left: 0;\n    top: 0;\n}\n.yk-player-danmu .dmzancur{\n    margin-left: -10px;\n    font-size:35px;\n    color:red;\n    width: 24px;\n    height: 24px;\n    background:url(http://js.ykimg.com/youku/dist/img/ykdanmu/dm_zan.png) no-repeat 0 -76px;\n    display:none;\n    position:absolute;\n}\n\n    /**\n * ContextJS Styles\n * For use WITHOUT Twitters Bootstrap CSS\n */\n\n.nav-header {\n	display: block;\n	padding: 3px 15px;\n	font-size: 11px;\n	font-weight: bold;\n	line-height: 20px;\n	color: #999;\n	text-shadow: 0 1px 0 rgba(255, 255, 255, 0.5);\n	text-transform: uppercase;\n}\n.dropdown-menu {\n	position: absolute;\n	top: 100%;\n	left: 0;\n	z-index: 12000;\n	display: none;\n	float: left;\n	min-width: 160px;\n	padding: 5px 0;\n	margin: 2px 0 0;\n	list-style: none;\n	background-color: #ffffff;\n	border: 1px solid #ccc;\n	border: 1px solid rgba(0, 0, 0, 0.2);\n	font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n	font-size: 12px;\n	*border-right-width: 2px;\n	*border-bottom-width: 2px;\n	-webkit-border-radius: 6px;\n	-moz-border-radius: 6px;\n	border-radius: 6px;\n	-webkit-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\n	-moz-box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\n	box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);\n	-webkit-background-clip: padding-box;\n	-moz-background-clip: padding;\n	background-clip: padding-box;\n	text-align:left;\n}\n.dropdown-menu.pull-right {\n	right: 0;\n	left: auto;\n}\n.dropdown-menu .divider {\n	*width: 100%;\n	height: 1px;\n	margin: 5px 1px;\n	*margin: -5px 0 5px;\n	overflow: hidden;\n	background-color: #e5e5e5;\n	border-bottom: 1px solid #ffffff;\n}\n.dropdown-menu a {\n	display: block;\n	padding: 3px 20px;\n	clear: both;\n	font-weight: normal;\n	line-height: 20px;\n	color: #333333;\n	white-space: nowrap;\n	text-decoration: none;\n    max-width: 260px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.dropdown-menu li > a:hover, .dropdown-menu li > a:focus, .dropdown-submenu:hover > a {\n	color: #ffffff;\n	text-decoration: none;\n	background-color: #2692FF ;\n	background-image: -moz-linear-gradient(top, #2692FF , #0077b3);\n	background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#2692FF ), to(#0077b3));\n	background-image: -webkit-linear-gradient(top, #2692FF , #0077b3);\n	background-image: -o-linear-gradient(top, #2692FF , #0077b3);\n	background-image: linear-gradient(to bottom, #2692FF , #0077b3);\n	background-repeat: repeat-x;\n	filter: progid: dximagetransform.microsoft.gradient(startColorstr='#ff2692FF ', endColorstr='#ff0077b3', GradientType=0);\n}\n.dropdown-menu .active > a, .dropdown-menu .active > a:hover {\n	color: #ffffff;\n	text-decoration: none;\n	background-color: #2692FF ;\n	background-image: linear-gradient(to bottom, #2692FF , #0077b3);\n	background-image: -moz-linear-gradient(top, #2692FF , #0077b3);\n	background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#2692FF ), to(#0077b3));\n	background-image: -webkit-linear-gradient(top, #2692FF , #0077b3);\n	background-image: -o-linear-gradient(top, #2692FF , #0077b3);\n	background-repeat: repeat-x;\n	outline: 0;\n	filter: progid\n	: dximagetransform.microsoft.gradient(startColorstr='#ff2692FF ', endColorstr='#ff0077b3', GradientType=0);\n}\n.dropdown-menu .disabled > a, .dropdown-menu .disabled > a:hover {\n	color: #120009;\n}\n.dropdown-menu .disabled > a:hover {\n	text-decoration: none;\n	cursor: default;\n	background-color: transparent;\n}\n.open {\n	*z-index: 1000;\n}\n.open > .dropdown-menu {\n	display: block;\n}\n.pull-right > .dropdown-menu {\n	right: 0;\n	left: auto;\n}\n.dropup .caret, .navbar-fixed-bottom .dropdown .caret {\n	border-top: 0;\n	border-bottom: 4px solid #000000;\n	content: \"\\2191\";\n}\n.dropup .dropdown-menu, .navbar-fixed-bottom .dropdown .dropdown-menu {\n	top: auto;\n	bottom: 100%;\n	margin-bottom: 1px;\n}\n.dropdown-submenu {\n	position: relative;\n}\n.dropdown-submenu > .dropdown-menu {\n	top: 0;\n	left: 100%;\n	margin-top: -6px;\n	margin-left: -1px;\n	-webkit-border-radius: 0 6px 6px 6px;\n	-moz-border-radius: 0 6px 6px 6px;\n	border-radius: 0 6px 6px 6px;\n}\n.dropdown-submenu > .dropdown-menu.drop-left{\n	left:-160px;\n}\n.dropdown-submenu:hover .dropdown-menu {\n	display: block;\n}\n.dropdown-submenu > a:after {\n	display: block;\n	position: absolute;\n	width: 0;\n	height: 0;\n	top: 10px;\n	right: 10px;\n	border-color: transparent;\n	border-left-color: #cccccc;\n	border-style: solid;\n	border-width: 5px 0 5px 5px;\n	content: \" \";\n}\n.dropdown-submenu:hover > a:after {\n	border-left-color: #ffffff;\n}\n.dropdown .dropdown-menu .nav-header {\n	padding-right: 20px;\n	padding-left: 20px;\n}\n\n\n.dropdown-context .nav-header {\n	cursor: default;\n}\n.dropdown-context:before, .dropdown-context-up:before {\n	position: absolute;\n	top: -7px;\n	left: 9px;\n	display: inline-block;\n	border-right: 7px solid transparent;\n	border-bottom: 7px solid #ccc;\n	border-left: 7px solid transparent;\n	border-bottom-color: rgba(0, 0, 0, 0.2);\n	content: '';\n}\n.dropdown-context:after, .dropdown-context-up:after {\n	position: absolute;\n	top: -6px;\n	left: 10px;\n	display: inline-block;\n	border-right: 6px solid transparent;\n	border-bottom: 6px solid #ffffff;\n	border-left: 6px solid transparent;\n	content: '';\n}\n.dropdown-left:after{\n    right: 10px;\n    left: auto;\n}\n.dropdown-context-up:before, .dropdown-context-up:after {\n	top: auto;\n	bottom: -7px;\n	z-index: 9999;\n}\n.dropdown-context-up:before {\n	border-right: 7px solid transparent;\n	border-top: 7px solid #ccc;\n	border-bottom: none;\n	border-left: 7px solid transparent;\n}\n.dropdown-context-up:after {\n	border-right: 6px solid transparent;\n	border-top: 6px solid #ffffff;\n	border-left: 6px solid transparent;\n	border-bottom: none;\n}\n.dropdown-context-sub:before, .dropdown-context-sub:after {\n	display: none;\n}\n.dropdown-context .dropdown-submenu:hover .dropdown-menu {\n	display: none;\n}\n.dropdown-context .dropdown-submenu:hover > .dropdown-menu {\n	display: block;\n}\n\n.compressed-context a{\n	padding-left: 14px;\n	padding-top: 0;\n	padding-bottom: 0;\n	font-size: 13px;\n	}\n.compressed-context .divider{\n	margin: 5px 1px;\n	}\n.compressed-context .nav-header{\n	padding:1px 13px;\n	}\n    </style >"
},"0ec026984cf42b8364bc98b964ca0673":function(e,t){e.exports='["发弹幕是不可能不发弹幕的，这辈子不可能不发弹幕的。","给个机会……以前没得选，现在我只想好好发一条弹幕","你有freestyle吗，来一段弹幕freestyle吧~","有人的地方，就有弹幕 出来混，迟早是要发的","看新剧如果不发弹幕，那和咸鱼有什么区别","坐标233、高度666、弹幕一发装填，3、2、1、走你","尿点满满的剧怎么评价？在线等挺急的。。。","爱他/她，就发条弹幕表白吧","山上的朋友！你们好吗！让我看到你们的弹幕！","没有一发弹幕解决不了的视频，要是有，那就两发","快看，这个人有特殊的发弹幕技巧","爱豆的弹幕，由我来守护！！！","骚年，敢作敢当，是你发的\\"小学生\\"弹幕吗（滑稽","啊~看看我们发现了什么？一条蛋白质含量是牛肉六倍的弹幕","前方弹幕护体，你不是一个人在战斗~","没错，万中无一的带框弹幕！整个优酷只有你","谈恋爱干嘛？是剧不好看？还是弹幕不好玩吗？" ,"系统检测这是一条优质弹幕，批准加框重点显示：）","好的，你帅你长的好看，你发什么弹幕都是对的：|","好看的躯壳千篇一律，有趣的弹幕真的等你这独一条"]'},"9f0d272c1c00b6ddcff772804a7dac88":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var i={templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:true,append:true,selfcontained:false,doNotSkipEncoded:false},template:void 0,compile:void 0,log:true},n;i.encodeHTMLSource=function(e){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},i=e?/[&<>"'\/]/g:/&(?!#?\w+;)|<|>|"|'|\//g;return function(e){return e?e.toString().replace(i,function(e){return t[e]||e}):""}};n=function(){return this||(0,eval)("this")}();var r={append:{start:"'+(",end:")+'",startencode:"'+encodeHTML("},split:{start:"';out+=(",end:");out+='",startencode:"';out+=encodeHTML("}},a=/$^/;function s(e,t,i){return("string"===typeof t?t:t.toString()).replace(e.define||a,function(t,n,r,a){if(0===n.indexOf("def."))n=n.substring(4);if(!(n in i))if(":"===r){if(e.defineParams)a.replace(e.defineParams,function(e,t,r){i[n]={arg:t,text:r}});if(!(n in i))i[n]=a}else new Function("def","def['"+n+"']="+a)(i);return""}).replace(e.use||a,function(t,n){if(e.useParams)n=n.replace(e.useParams,function(e,t,n,r){if(i[n]&&i[n].arg&&r){var a=(n+":"+r).replace(/'|\\/g,"_");i.__exp=i.__exp||{};i.__exp[a]=i[n].text.replace(new RegExp("(^|[^\\w$])"+i[n].arg+"([^\\w$])","g"),"$1"+r+"$2");return t+"def.__exp['"+a+"']"}});var r=new Function("def","return "+n)(i);return r?s(e,r,i):r})}function o(e){return e.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}i.template=function(e,t,l){t=t||i.templateSettings;var u=t.append?r.append:r.split,d,f=0,c,h=t.use||t.define?s(t,e,l||{}):e;h=("var out='"+(t.strip?h.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):h).replace(/'|\\/g,"\\$&").replace(t.interpolate||a,function(e,t){return u.start+o(t)+u.end}).replace(t.encode||a,function(e,t){d=true;return u.startencode+o(t)+u.end}).replace(t.conditional||a,function(e,t,i){return t?i?"';}else if("+o(i)+"){out+='":"';}else{out+='":i?"';if("+o(i)+"){out+='":"';}out+='"}).replace(t.iterate||a,function(e,t,i,n){if(!t)return"';} } out+='";f+=1;c=n||"i"+f;t=o(t);return"';var arr"+f+"="+t+";if(arr"+f+"){var "+i+","+c+"=-1,l"+f+"=arr"+f+".length-1;while("+c+"<l"+f+"){"+i+"=arr"+f+"["+c+"+=1];out+='"}).replace(t.evaluate||a,function(e,t){return"';"+o(t)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"");if(d){if(!t.selfcontained&&n&&!n._encodeHTML)n._encodeHTML=i.encodeHTMLSource(t.doNotSkipEncoded);h="var encodeHTML = typeof _encodeHTML !== 'undefined' ? _encodeHTML : ("+i.encodeHTMLSource.toString()+"("+(t.doNotSkipEncoded||"")+"));"+h}try{return new Function(t.varname,h)}catch(p){if("undefined"!==typeof console)console.log("Could not create a template function: "+h);throw p}};i.compile=function(e,t){return i.template(e,null,t)};t.default=i}});;